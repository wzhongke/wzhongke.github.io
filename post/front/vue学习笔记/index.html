<!DOCTYPE html><html lang="zh-cn"><head><meta charset="UTF-8"><title>vue 学习笔记 | World of Wang</title><meta name="viewport" content="width=device-width,user-scalable=no,maximum-scale=1,initial-scale=1"><link rel="canonical" href="https://wzhongke.github.io/post/front/vue%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"><link href="//cdn.bootcss.com/highlight.js/9.12.0/styles/ocean.min.css" rel="stylesheet"><link rel="stylesheet" href="https://wzhongke.github.io//css/index-ae15952095.css"><link href="https://wzhongke.github.io/index.xml" rel="alternate" type="application/rss+xml" title="World of Wang"><link href="https://wzhongke.github.io/index.xml" rel="feed" type="application/rss+xml" title="World of Wang"><link href="https://wzhongke.github.io//favicon.ico" rel="shortcut icon"><script>window.origin = "https://wzhongke.github.io/";
    
    var outer = document.createElement('div');
    outer.style.cssText = "visibility:hidden;width:100%;overflow:scroll";
    document.documentElement.appendChild(outer);
    window.scrollWidth = outer.offsetWidth - outer.clientWidth;
    document.documentElement.removeChild(outer);</script></head><body><div id="modal-search" class="modal"><div class="modal-content"><form><div class="row"><div class="input-field col s12"><input id="in-search" type="text" required aria-required="true" autofocus autocomplete="off"> <label for="in-search">Search</label></div></div></form><div class="out-wrapper row"><div id="out-search" class="collection col s12"></div></div></div></div><div class="navbar-fixed"><nav class="navbar"><div class="nav-wrapper container"><a href="javascript:void(0)" class="button-collapse"><i class="material-icons">menu</i></a> <a href="https://wzhongke.github.io/" class="brand-logo"><i class="material-icons">restaurant_menu</i> World of Wang</a><ul class="right hide-on-small-and-down"><li><a class="modal-trigger" href="#modal-search"><i class="material-icons">search</i></a></li><li><a href="https://wzhongke.github.io/index.xml" target="_blank"><i class="material-icons">rss_feed</i></a></li></ul><ul class="center tabs tabs-transparent hide-on-med-and-down"><li class="tab"><a href="https://wzhongke.github.io//" class="">Home</a></li><li class="tab"><a href="https://wzhongke.github.io//archive/" class="">Archive</a></li><li class="tab"><a href="https://wzhongke.github.io//about/" class="">About</a></li><li class="tab"><a href="https://wzhongke.github.io//post/%E7%A2%B0%E5%88%B0%E8%BF%87%E7%9A%84%E9%97%AE%E9%A2%98/" class="">碰到过的问题</a></li></ul></div></nav></div><aside class="side-panel"><div class="inner"><div class="profile"><div class="profile__bg" style="background-image:url('https://wzhongke.github.io//img/profile-bg-7c6e6a1672.jpg')"></div><img class="profile__avatar" src="https://wzhongke.github.io//img/sign-d1f802b4e8.jpg" alt="avatar"><h3 class="profile__name">壹冶知秋</h3><p class="profile__desc">Do not ride on fear...</p></div><ul class="nav-group show-on-medium-and-down menu"><li><a class="collapsible-header waves-effect waves-indigo" href="https://wzhongke.github.io//"><i class="material-icons">home</i> <span class="content">Home</span> <i class="material-icons">chevron_right</i></a></li><li><a class="collapsible-header waves-effect waves-indigo" href="https://wzhongke.github.io//archive/"><i class="material-icons">archive</i> <span class="content">Archive</span> <i class="material-icons">chevron_right</i></a></li><li><a class="collapsible-header waves-effect waves-indigo" href="https://wzhongke.github.io//about/"><i class="material-icons">person</i> <span class="content">About</span> <i class="material-icons">chevron_right</i></a></li><li><a class="collapsible-header waves-effect waves-indigo" href="https://wzhongke.github.io//post/%E7%A2%B0%E5%88%B0%E8%BF%87%E7%9A%84%E9%97%AE%E9%A2%98/"><i class="material-icons">bookmark</i> <span class="content">碰到过的问题</span> <i class="material-icons">chevron_right</i></a></li></ul><ul class="nav-group show-on-small tools"><li><a class="collapsible-header waves-effect waves-indigo modal-trigger" href="#modal-search"><i class="material-icons">search</i> <span class="content">Search</span> <i class="material-icons">chevron_right</i></a></li><li><a class="collapsible-header waves-effect waves-indigo" target="_blank" href="https://wzhongke.github.io/index.xml"><i class="material-icons">rss_feed</i> <span class="content">RSS Feed</span> <i class="material-icons">chevron_right</i></a></li></ul><ul class="collapsible nav-group" data-collapsible="accordion"><li><div class="collapsible-header waves-effect waves-indigo"><i class="material-icons">whatshot</i> <span class="content">Latest</span> <i class="material-icons angle">expand_more</i></div><div class="collapsible-body"><div class="collection"><a class="collection-item" href="https://wzhongke.github.io/post/">Posts</a> <a class="collection-item" href="https://wzhongke.github.io/post/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E6%80%9D%E8%80%83%E5%BF%AB%E4%B8%8E%E6%85%A2/">思考快与慢</a> <a class="collection-item" href="https://wzhongke.github.io/post/java/netty-%E5%AE%9E%E6%88%98/">netty 实战</a> <a class="collection-item" href="https://wzhongke.github.io/post/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E9%9D%9E%E6%9A%B4%E5%8A%9B%E6%B2%9F%E9%80%9A/">非暴力沟通</a> <a class="collection-item" href="https://wzhongke.github.io/post/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E4%BA%BA%E7%94%9F%E7%9A%84%E6%99%BA%E6%85%A7-%E5%8F%94%E6%9C%AC%E5%8D%8E/">人生的智慧_叔本华</a> <a class="collection-item" href="https://wzhongke.github.io/post/node/node%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0/">node使用笔记</a> <a class="collection-item" href="https://wzhongke.github.io/post/node/typeorm/">typeorm</a> <a class="collection-item" href="https://wzhongke.github.io/post/java/spring-%E6%BA%90%E7%A0%81/">深入浅出 nodejs</a> <a class="collection-item" href="https://wzhongke.github.io/post/java/java%E5%A0%86%E5%86%85%E5%AD%98/">java 内存以及GC</a> <a class="collection-item" href="https://wzhongke.github.io/post/java/java%E8%AE%A1%E7%AE%97%E5%86%85%E5%AD%98/">java 使用代码计算内存</a></div></div></li><li><div class="collapsible-header waves-effect waves-indigo"><i class="material-icons"><i class="material-icons">class</i></i> <span class="content">Category </span><i class="material-icons angle">expand_more</i></div><div class="collapsible-body"><div class="collection"><a class="collection-item" href="https://wzhongke.github.io//categories/java">java<span class="badge">14</span></a> <a class="collection-item" href="https://wzhongke.github.io//categories/linux">linux<span class="badge">10</span></a> <a class="collection-item" href="https://wzhongke.github.io//categories/javascript">javascript<span class="badge">7</span></a> <a class="collection-item" href="https://wzhongke.github.io//categories/%E7%AE%97%E6%B3%95">算法<span class="badge">7</span></a> <a class="collection-item" href="https://wzhongke.github.io//categories/python">python<span class="badge">5</span></a> <a class="collection-item" href="https://wzhongke.github.io//categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F">设计模式<span class="badge">5</span></a> <a class="collection-item" href="https://wzhongke.github.io//categories/mysql">mysql<span class="badge">4</span></a> <a class="collection-item" href="https://wzhongke.github.io//categories/other">other<span class="badge">4</span></a> <a class="collection-item" href="https://wzhongke.github.io//categories/%E5%B7%A5%E5%85%B7">工具<span class="badge">3</span></a> <a class="collection-item" href="https://wzhongke.github.io//categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0">读书笔记<span class="badge">3</span></a> <a class="collection-item" href="https://wzhongke.github.io//categories/css">css<span class="badge">2</span></a> <a class="collection-item" href="https://wzhongke.github.io//categories/sql">sql<span class="badge">2</span></a> <a class="collection-item" href="https://wzhongke.github.io//categories/error">error<span class="badge">1</span></a> <a class="collection-item" href="https://wzhongke.github.io//categories/markdown">markdown<span class="badge">1</span></a> <a class="collection-item" href="https://wzhongke.github.io//categories/nodejs">nodejs<span class="badge">1</span></a> <a class="collection-item" href="https://wzhongke.github.io//categories/svg">svg<span class="badge">1</span></a> <a class="collection-item" href="https://wzhongke.github.io//categories/vue">vue<span class="badge">1</span></a> <a class="collection-item" href="https://wzhongke.github.io//categories/%E6%97%85%E8%A1%8C">旅行<span class="badge">1</span></a> <a class="collection-item" href="https://wzhongke.github.io//categories/%E7%A4%BE%E7%A7%91">社科<span class="badge">1</span></a> <a class="collection-item" href="https://wzhongke.github.io//categories/%E7%BC%96%E7%A8%8B">编程<span class="badge">1</span></a></div></div></li><li><div class="collapsible-header waves-effect waves-indigo"><i class="material-icons"><i class="material-icons">local_offer</i></i> <span class="content">Tag </span><i class="material-icons angle">expand_more</i></div><div class="collapsible-body"><div class="collection"><a class="collection-item" href="https://wzhongke.github.io//tags/java">java<span class="badge">14</span></a> <a class="collection-item" href="https://wzhongke.github.io//tags/linux">linux<span class="badge">9</span></a> <a class="collection-item" href="https://wzhongke.github.io//tags/javascript">javascript<span class="badge">6</span></a> <a class="collection-item" href="https://wzhongke.github.io//tags/%E7%AE%97%E6%B3%95">算法<span class="badge">6</span></a> <a class="collection-item" href="https://wzhongke.github.io//tags/python">python<span class="badge">5</span></a> <a class="collection-item" href="https://wzhongke.github.io//tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F">设计模式<span class="badge">5</span></a> <a class="collection-item" href="https://wzhongke.github.io//tags/mysql">mysql<span class="badge">4</span></a> <a class="collection-item" href="https://wzhongke.github.io//tags/other">other<span class="badge">4</span></a> <a class="collection-item" href="https://wzhongke.github.io//tags/%E5%B7%A5%E5%85%B7">工具<span class="badge">3</span></a> <a class="collection-item" href="https://wzhongke.github.io//tags/css">css<span class="badge">2</span></a> <a class="collection-item" href="https://wzhongke.github.io//tags/markdown">markdown<span class="badge">2</span></a> <a class="collection-item" href="https://wzhongke.github.io//tags/sql">sql<span class="badge">2</span></a> <a class="collection-item" href="https://wzhongke.github.io//tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0">读书笔记<span class="badge">2</span></a> <a class="collection-item" href="https://wzhongke.github.io//tags/error">error<span class="badge">1</span></a> <a class="collection-item" href="https://wzhongke.github.io//tags/nodejs">nodejs<span class="badge">1</span></a> <a class="collection-item" href="https://wzhongke.github.io//tags/svg">svg<span class="badge">1</span></a> <a class="collection-item" href="https://wzhongke.github.io//tags/%E6%97%85%E8%A1%8C">旅行<span class="badge">1</span></a></div></div></li></ul><ul class="nav-group external-link"><li><a class="collapsible-header waves-effect waves-indigo" href="https://github.com/wzhongke" target="_blank"><svg class="svg-icons svg-icons-github"><use xlink:href="#svg-icons-github"></use></svg> <span class="content">Github<small>@wzhongke</small></span> <i class="material-icons">chevron_right</i></a></li></ul></div></aside><main id="single" role="main" class="main-panel"><section class="container"><div class="inner"><div class="breadcrumbs" role="navigation" aria-label="breadcrumbs navigation"><a class="breadcrumb" href="https://wzhongke.github.io/"><i class="material-icons">location_on</i>Home</a> <a class="breadcrumb" href="https://wzhongke.github.io/post/">Post</a> <a class="breadcrumb" href="https://wzhongke.github.io/post/front/">Front</a> <span class="breadcrumb">vue 学习笔记</span></div><section class="post-wrapper"><div class="toc-panel"><nav id="TableOfContents"><ul><li><a href="#插值">插值</a><ul><li><a href="#文本">文本</a></li><li><a href="#原始html">原始HTML</a></li><li><a href="#特性">特性</a></li><li><a href="#在插值中使用javascript表达式">在插值中使用JavaScript表达式</a></li></ul></li><li><a href="#指令">指令</a><ul><li><a href="#参数">参数</a></li><li><a href="#修饰符">修饰符</a></li></ul></li><li><a href="#缩写">缩写</a></li></ul><ul><li><a href="#用-key-管理可复用元素">用 <code>key</code> 管理可复用元素</a></li><li><a href="#v-show"><code>v-show</code></a></li></ul><ul><li><a href="#遍历对象">遍历对象</a></li><li><a href="#数组变化检测">数组变化检测</a></li><li><a href="#数组替换">数组替换</a></li><li><a href="#对象变化检测">对象变化检测</a></li><li><a href="#使用计算属性或者方法">使用计算属性或者方法</a></li><li><a href="#使用-v-for-在整数值范围内迭代">使用 <code>v-for</code> 在整数值范围内迭代</a></li><li><a href="#使用-template-来渲染多个模块">使用 <code>&lt;template&gt;</code> 来渲染多个模块</a></li><li><a href="#v-for-中的-v-if"><code>v-for</code> 中的 <code>v-if</code></a></li></ul><ul><li><a href="#在-methods-中定义事件处理函数">在 <code>methods</code> 中定义事件处理函数</a></li><li><a href="#事件修饰符">事件修饰符</a></li><li><a href="#按键修饰符">按键修饰符</a></li><li><a href="#系统辅助按键">系统辅助按键</a></li></ul><ul><li><a href="#input"><code>input</code></a></li><li><a href="#checkbox"><code>checkbox</code></a></li><li><a href="#radio"><code>radio</code></a></li><li><a href="#select"><code>select</code></a></li><li><a href="#同-value-属性绑定">同 <code>value</code> 属性绑定</a></li><li><a href="#修饰符-1">修饰符</a></li></ul><ul><li><a href="#注册组件">注册组件</a></li><li><a href="#模块系统">模块系统</a></li><li><a href="#使用-props-向子组件中传递数据">使用 <code>props</code> 向子组件中传递数据</a><ul><li><a href="#单向数据流">单向数据流</a></li><li><a href="#prop-验证">prop 验证</a></li></ul></li><li><a href="#使用-events-向父组件发送消息">使用 <code>events</code> 向父组件发送消息</a></li></ul><ul><li><a href="#定制组件-v-model">定制组件 <code>v-model</code></a></li><li><a href="#将原生事件绑定到组件">将原生事件绑定到组件</a></li></ul><ul><li><a href="#命名-slot">命名 <code>slot</code></a><ul><li><a href="#默认-slot-内容">默认 slot 内容</a></li><li><a href="#编译时的作用域">编译时的作用域</a></li></ul></li></ul><ul><li><a href="#异步组件">异步组件</a></li></ul><ul><li><a href="#钩子函数">钩子函数</a></li></ul><ul><li><a href="#createelement"><code>createElement</code></a></li><li><a href="#深入-data-对象">深入 <code>data</code> 对象</a></li><li><a href="#v-model"><code>v-model</code></a></li><li><a href="#事件和按键修饰符">事件和按键修饰符</a></li><li><a href="#函数式组件">函数式组件</a></li></ul></nav></div><div class="post"><div class="card"><div class="card-content"><span class="card-title">vue 学习笔记 </span><span class="card-meta"><time><span>Sat Jan 21 2017</span></time><address><a href="https://wzhongke.github.io//categories/javascript">javascript</a>&nbsp;</address></span><article class="article"><h1 id="属性和方法">属性和方法</h1><p>每个vue实例都会代理其data对象的所有属性</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">data</span> <span style="color:#f92672">=</span> { <span style="color:#a6e22e">a</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span> }
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">vm</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Vue</span>({
  <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">data</span>
})
<span style="color:#a6e22e">vm</span>.<span style="color:#a6e22e">a</span> <span style="color:#f92672">===</span> <span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">a</span> <span style="color:#75715e">// -&gt; true
</span><span style="color:#75715e">// setting the property also affects original data
</span><span style="color:#75715e"></span><span style="color:#a6e22e">vm</span>.<span style="color:#a6e22e">a</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>
<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">a</span> <span style="color:#75715e">// -&gt; 2
</span><span style="color:#75715e">// ... and vice-versa
</span><span style="color:#75715e"></span><span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">a</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>
<span style="color:#a6e22e">vm</span>.<span style="color:#a6e22e">a</span> <span style="color:#75715e">// -&gt; 3
</span></code></pre></div><p>在vue中只有被代理的属性才会被监控，如果在创建Vue后，data 新添加属性，是不会被监控的，也就是更新值没有任何响应。可以通过 <code>$watch</code> 方法加入响应 。 Vue中自带一些以<code>$</code>开头的属性和方法：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">data</span> <span style="color:#f92672">=</span> { <span style="color:#a6e22e">a</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span> }
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">vm</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Vue</span>({
    <span style="color:#a6e22e">el</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;#example&#39;</span>,
    <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">data</span>
})
<span style="color:#a6e22e">vm</span>.<span style="color:#a6e22e">$data</span> <span style="color:#f92672">===</span> <span style="color:#a6e22e">data</span> <span style="color:#75715e">// -&gt; true
</span><span style="color:#75715e"></span><span style="color:#a6e22e">vm</span>.<span style="color:#a6e22e">$el</span> <span style="color:#f92672">===</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#39;example&#39;</span>) <span style="color:#75715e">// -&gt; true
</span><span style="color:#75715e">// $watch is an instance method
</span><span style="color:#75715e"></span><span style="color:#a6e22e">vm</span>.<span style="color:#a6e22e">$watch</span>(<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">newVal</span>, <span style="color:#a6e22e">oldVal</span>) {
    <span style="color:#75715e">// this callback will be called when `vm.a` changes
</span><span style="color:#75715e"></span>})
</code></pre></div><h1 id="实例的生命周期">实例的生命周期</h1><p>下面的图是vue实例的整个生命周期。 <img src="http://vuejs.org/images/lifecycle.png" alt=""> 在vue实例创建的过程中，有一些hook会被调用。我们可以通过修改这些hook来执行自定义的操作。 hook有<code>created</code>, <code>mounted</code>, <code>updated</code>, <code>destroyed</code>.</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">vm</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Vue</span>({
  <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> {
    <span style="color:#a6e22e">a</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>
  },
  <span style="color:#a6e22e">created</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> () {
    <span style="color:#75715e">// `this` points to the vm instance
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;a is: &#39;</span> <span style="color:#f92672">+</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">a</span>)
  }
})
<span style="color:#75715e">// -&gt; &#34;a is: 1&#34;
</span></code></pre></div><h1 id="模板语法">模板语法</h1><p>Vue 使用了基于 HTML 的模板语法，允许开发者声明式地将 DOM 绑定到底层 Vue 实例的上述。 在底层实现上，Vue 将模板编译成虚拟 DOM 渲染函数，结合响应系统，Vue 能够智能地计算出最少需要重新渲染多少组件，并把 DOM 操作次数降到最少。</p><h2 id="插值">插值</h2><h3 id="文本">文本</h3><p>数据绑定最常见的形式就是使用“Mustache”语法(双大括号)的文本插值：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">span</span>&gt;Message: {{msg}}&lt;/<span style="color:#f92672">span</span>&gt;
<span style="color:#75715e">&lt;!-- 使用 v-once 指令，只能执行一次性插值，当数据改变时，插值内容不会更改 --&gt;</span>
&lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">v-once</span>&gt;这个将不会改变: {{ msg }}&lt;/<span style="color:#f92672">span</span>&gt;
</code></pre></div><h3 id="原始html">原始HTML</h3><p>文本插值只能将数据转换成普通文本。需要使用 <code>v-html</code> 来输出真正的 HTML</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">p</span>&gt; using v-html: &lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">v-html</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;rawHtml&#34;</span>&gt;&lt;/<span style="color:#f92672">span</span>&gt;<span style="color:#960050;background-color:#1e0010">&lt;</span>/p?
</code></pre></div><p>上例中 <code>span</code> 的内容将会被替换成 <code>rawHtml</code>，但是不会解析 <code>rawHtml</code> 中的数据绑定。</p><h3 id="特性">特性</h3><p>Mustache 语法不能在HTML标签的属性上使用，需要使用 <code>v-bind</code> 指令：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">v-bind:id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;dynamicId&#34;</span>&gt;&lt;/<span style="color:#f92672">div</span>&gt;
</code></pre></div><p>在属性取值是布尔值的情况下，它们存在即为 <code>true</code>:</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">v-bind:disabled</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;isButtonDisabled&#34;</span>&gt;Button&lt;/<span style="color:#f92672">button</span>&gt;
</code></pre></div><h3 id="在插值中使用javascript表达式">在插值中使用JavaScript表达式</h3><p>对于所有的数据绑定，Vue都提供了完全的JavaScript表达式支持：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">{{number + 1}}
{{ ok? &#39;YES&#39;:&#39;NO&#39;}}
{{ message.split(&#39;&#39;).reverse().join() }}
&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">v-bind:id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#39;list&#39; + id&#34;</span>&gt;&lt;/<span style="color:#f92672">div</span>&gt;
</code></pre></div><h2 id="指令">指令</h2><p>指令是带有 <code>v-</code> 前缀的特殊属性，比如：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">p</span> <span style="color:#a6e22e">v-if</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;seen&#34;</span>&gt;now you see me&lt;/<span style="color:#f92672">p</span>&gt;
</code></pre></div><p><code>v-if</code> 会根据表达式 <code>seen</code> 的值的真假来插入或者移除 <code>&lt;p&gt;</code> 元素</p><h3 id="参数">参数</h3><p>一些指令能够接收一个参数，在指令名称后用冒号表示：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">v-bind:href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;url&#34;</span> <span style="color:#a6e22e">v-on:click</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;doSomething&#34;</span>&gt;&lt;/<span style="color:#f92672">a</span>&gt;
</code></pre></div><p>这里的 <code>href</code> 是参数，其作用是告知 <code>v-bind</code> 指令将该元素的 <code>href</code> 属性与表达式 <code>url</code> 的值绑定。</p><p><code>v-on</code> 也是指令，它用于监听 DOM 事件。</p><h3 id="修饰符">修饰符</h3><p>修饰符是以半角句号 <code>.</code> 指明的特殊后缀，用于指出一个指令应该以特殊的方式绑定。</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">form</span> <span style="color:#a6e22e">v-on:submit</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">prevent</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;onSubmit&#34;</span>&gt;
</code></pre></div><p>上例中的 <code>.prevent</code> 修饰符告诉 <code>v-on</code> 指令对于触发的事件，调用 <code>event.preventDefault()</code></p><h2 id="缩写">缩写</h2><p><code>v-</code> 前缀作为视觉提示，用来识别模板中 vue 特定的特性。但是对于频繁用到的指令来说，<code>v-</code> 前缀就显得比较累赘了。因此可以将如下指令进行简写：</p><ul><li><code>v-bind:href=&quot;url&quot;</code> 可以缩写为 <code>:href=&quot;url&quot;</code></li><li><code>v-on:click=&quot;fun&quot;</code> 可以缩写为 <code>@click=&quot;fun&quot;</code></li></ul><h1 id="计算属性">计算属性</h1><p>模板内使用表达式可以非常方便地进行简单计算，但是如果进行复制计算，就会让模板过重而且难以维护。因此，对于任何复杂逻辑，都应该使用计算属性。</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;example&#34;</span>&gt;
    &lt;<span style="color:#f92672">p</span>&gt;Original message: &#34;{{ message }}&#34;&lt;/<span style="color:#f92672">p</span>&gt;
    &lt;<span style="color:#f92672">p</span>&gt;Computed reversed message: &#34;{{ reversedMessage }}&#34;&lt;/<span style="color:#f92672">p</span>&gt;
&lt;/<span style="color:#f92672">div</span>&gt;
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">vm</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Vue</span>({
   <span style="color:#a6e22e">el</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;#example&#34;</span>,
    <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;hello&#34;</span>
    },
    <span style="color:#a6e22e">computed</span><span style="color:#f92672">:</span> {
        <span style="color:#75715e">// 声明计算属性
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">reversedMessage</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> () {
            <span style="color:#75715e">// this 指向vm实例
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">message</span>.<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#39;&#39;</span>).<span style="color:#a6e22e">reverse</span>().<span style="color:#a6e22e">join</span>(<span style="color:#e6db74">&#39;&#39;</span>);
        }
    }
});
</code></pre></div><p>上例中，我们声明了一个计算属性 <code>reversedMessage</code>，我们提供的函数将作为 <code>reversedMessage</code> 的 getter 函数：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">vm</span>.<span style="color:#a6e22e">reversedMessage</span>) <span style="color:#75715e">// &#39;olleh&#39;
</span><span style="color:#75715e"></span><span style="color:#a6e22e">vm</span>.<span style="color:#a6e22e">message</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Goodbye&#39;</span>
<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">vm</span>.<span style="color:#a6e22e">reversedMessage</span>) <span style="color:#75715e">// &#39;eybdooG&#39;
</span></code></pre></div><p>我们可以将 <code>reversedMessage</code> 作为 <code>vm</code> 的属性使用，而且它的值取决于 <code>vm.message</code> 的值。 计算属性相比方法的优点是<strong>计算属性是基于它们的依赖进行缓存的</strong>。计算属性只有在它的相关依赖发生变化时才会重新求值，而方法会在每次触发重新渲染时都会执行函数。 假设我们有一个性能开销比较大的的计算属性 A，它需要遍历一个巨大的数组并做大量的计算。然后我们可能有其他的计算属性依赖于 A 。如果没有缓存，我们将不可避免的多次执行 A 的 getter！ 如果你不希望有缓存，请用方法来替代。</p><p>计算属性默认情况下，只有 getter。当然，在需要时可以提供一个 setter：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">//...
</span><span style="color:#75715e"></span><span style="color:#a6e22e">computed</span><span style="color:#f92672">:</span> {
    <span style="color:#a6e22e">fullName</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">get</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> () {
            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">firstName</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39; &#39;</span> <span style="color:#f92672">+</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">lastName</span>
        },
        <span style="color:#a6e22e">set</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> () {
            <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">names</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">newValue</span>.<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#39; &#39;</span>);
            <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">firstName</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">names</span>[<span style="color:#ae81ff">0</span>];
            <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">lastName</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">names</span>[<span style="color:#a6e22e">names</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>];
        }
    }
}
<span style="color:#75715e">// ...
</span><span style="color:#75715e">// 现在可以用如下方式更新 fullName
</span><span style="color:#75715e"></span><span style="color:#a6e22e">vm</span>.<span style="color:#a6e22e">fullName</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;John Doe&#39;</span>;
</code></pre></div><h1 id="侦听器">侦听器</h1><p>虽然计算属性在大多数情况下更合适，但是有时也需要自定义的侦听器。<strong>侦听器更适合在数据变化时执行异步或者开销较大的操作时使用</strong></p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;watch-example&#34;</span>&gt;
    &lt;<span style="color:#f92672">p</span>&gt;
        Ask a yes/no question:
        &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">v-model</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;question&#34;</span>&gt;
    &lt;/<span style="color:#f92672">p</span>&gt;
    &lt;<span style="color:#f92672">p</span>&gt;{{ answer }}&lt;/<span style="color:#f92672">p</span>&gt;
&lt;/<span style="color:#f92672">div</span>&gt;

&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://cdn.jsdelivr.net/npm/axios@0.12.0/dist/axios.min.js&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://cdn.jsdelivr.net/npm/lodash@4.13.1/lodash.min.js&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
&lt;<span style="color:#f92672">script</span>&gt;
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">watchExampleVM</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Vue</span>({
    <span style="color:#a6e22e">el</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;#watch-example&#39;</span>,
    <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">question</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>,
        <span style="color:#a6e22e">answer</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;I cannot give you an answer until you ask a question!&#39;</span>
    },
    <span style="color:#a6e22e">watch</span><span style="color:#f92672">:</span> {
        <span style="color:#75715e">// 如果 `question` 发生改变，这个函数就会运行
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">question</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">newQuestion</span>, <span style="color:#a6e22e">oldQuestion</span>) {
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">answer</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Waiting for you to stop typing...&#39;</span>
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">getAnswer</span>()
        }
    },
    <span style="color:#a6e22e">methods</span><span style="color:#f92672">:</span> {
        <span style="color:#75715e">// `_.debounce` 是一个通过 Lodash 限制操作频率的函数。
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// 在这个例子中，我们希望限制访问 yesno.wtf/api 的频率
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// AJAX 请求直到用户输入完毕才会发出。想要了解更多关于
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// `_.debounce` 函数 (及其近亲 `_.throttle`) 的知识，
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// 请参考：https://lodash.com/docs#debounce
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">getAnswer</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">_</span>.<span style="color:#a6e22e">debounce</span>(
        <span style="color:#66d9ef">function</span> () {
            <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">question</span>.<span style="color:#a6e22e">indexOf</span>(<span style="color:#e6db74">&#39;?&#39;</span>) <span style="color:#f92672">===</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) {
            <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">answer</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Questions usually contain a question mark. ;-)&#39;</span>
            <span style="color:#66d9ef">return</span>
            }
            <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">answer</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Thinking...&#39;</span>
            <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">vm</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>
            <span style="color:#a6e22e">axios</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;https://yesno.wtf/api&#39;</span>)
            .<span style="color:#a6e22e">then</span>(<span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">response</span>) {
                <span style="color:#a6e22e">vm</span>.<span style="color:#a6e22e">answer</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">_</span>.<span style="color:#a6e22e">capitalize</span>(<span style="color:#a6e22e">response</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">answer</span>)
            })
            .<span style="color:#66d9ef">catch</span>(<span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">error</span>) {
                <span style="color:#a6e22e">vm</span>.<span style="color:#a6e22e">answer</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Error! Could not reach the API. &#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">error</span>
            })
        },
        <span style="color:#75715e">// 这是我们为判定用户停止输入等待的毫秒数
</span><span style="color:#75715e"></span>        <span style="color:#ae81ff">500</span>
        )
    }
})
&lt;/<span style="color:#f92672">script</span>&gt;
</code></pre></div><h1 id="条件渲染">条件渲染</h1><p>可以使用 <code>v-if</code> 和 <code>v-else</code> 指令来实现条件渲染：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">h1</span> <span style="color:#a6e22e">v-if</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;ok&#34;</span>&gt;Yes&lt;<span style="color:#f92672">h1</span>&gt;
&lt;<span style="color:#f92672">h1</span> <span style="color:#a6e22e">v-else</span>&gt;No&lt;/<span style="color:#f92672">h1</span>&gt;
</code></pre></div><p>还可以使用 <code>v-else-if</code> :</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">v-if</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;type === &#39;A&#39;&#34;</span>&gt;
  A
&lt;/<span style="color:#f92672">div</span>&gt;
&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">v-else-if</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;type === &#39;B&#39;&#34;</span>&gt;
  B
&lt;/<span style="color:#f92672">div</span>&gt;
&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">v-else-if</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;type === &#39;C&#39;&#34;</span>&gt;
  C
&lt;/<span style="color:#f92672">div</span>&gt;
&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">v-else</span>&gt;
  Not A/B/C
&lt;/<span style="color:#f92672">div</span>&gt;
</code></pre></div><h2 id="用-key-管理可复用元素">用 <code>key</code> 管理可复用元素</h2><p>Vue 会尽可能高效地渲染元素，通常会复用已有元素而不是从头开始渲染。这么做除了使 Vue 变得非常快之外，还有其它一些好处。例如，如果你允许用户在不同的登录方式之间切换：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">template</span> <span style="color:#a6e22e">v-if</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;loginType === &#39;username&#39;&#34;</span>&gt;
    &lt;<span style="color:#f92672">label</span>&gt;Username&lt;/<span style="color:#f92672">label</span>&gt;
    &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">placeholder</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Enter your username&#34;</span>&gt;
&lt;/<span style="color:#f92672">template</span>&gt;
&lt;<span style="color:#f92672">template</span> <span style="color:#a6e22e">v-else</span>&gt;
    &lt;<span style="color:#f92672">label</span>&gt;Email&lt;/<span style="color:#f92672">label</span>&gt;
    &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">placeholder</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Enter your email address&#34;</span>&gt;
&lt;/<span style="color:#f92672">template</span>&gt;
</code></pre></div><p>那么在上面的代码中切换 <code>loginType</code> 将不会清除用户已经输入的内容。因为两个模板使用了相同的元素，<code>&lt;input&gt;</code> 不会被替换掉——仅仅是替换了它的 <code>placeholder</code>。</p><p>这样也不一定能符合实际需求，所以可以通过 <code>key</code> 属性来表达两个元素完全是独立的，不复用他们：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">template</span> <span style="color:#a6e22e">v-if</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;loginType === &#39;username&#39;&#34;</span>&gt;
    &lt;<span style="color:#f92672">label</span>&gt;Username&lt;/<span style="color:#f92672">label</span>&gt;
    &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">placeholder</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Enter your username&#34;</span> <span style="color:#a6e22e">key</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;username-input&#34;</span>&gt;
&lt;/<span style="color:#f92672">template</span>&gt;
&lt;<span style="color:#f92672">template</span> <span style="color:#a6e22e">v-else</span>&gt;
    &lt;<span style="color:#f92672">label</span>&gt;Email&lt;/<span style="color:#f92672">label</span>&gt;
    &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">placeholder</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Enter your email address&#34;</span> <span style="color:#a6e22e">key</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;email-input&#34;</span>&gt;
&lt;/<span style="color:#f92672">template</span>&gt;
</code></pre></div><h2 id="v-show"><code>v-show</code></h2><p>另一个根据条件展示元素的指令是 <code>v-show</code>:</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#f92672">&lt;</span><span style="color:#a6e22e">h1</span> <span style="color:#a6e22e">v</span><span style="color:#f92672">-</span><span style="color:#a6e22e">show</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;ok&#34;</span><span style="color:#f92672">&gt;</span><span style="color:#a6e22e">Hello</span><span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/h1&gt;</span>
</code></pre></div><p><code>v-if</code> 是“真正”的条件渲染，因为它会确保在切换过程中条件块内的事件监听器和子组件适当地被销毁和重建。</p><p><code>v-if</code> 也是惰性的：如果在初始渲染时条件为假，则什么也不做——直到条件第一次变为真时，才会开始渲染条件块。</p><p><code>v-show</code> 就简单得多——不管初始条件是什么，元素总是会被渲染，并且只是简单地基于 CSS 进行切换。</p><p>一般来说，<code>v-if</code> 有更高的切换开销，而 <code>v-show</code> 有更高的初始渲染开销。因此，<strong>如果需要非常频繁地切换，则使用 <code>v-show</code> 较好；如果在运行时条件很少改变，则使用 <code>v-if</code> 较好。</strong></p><h1 id="列表渲染">列表渲染</h1><p><code>v-for</code> 指令可以将一个数组渲染成列表。格式为 <code>v-for=&quot;item in itmes&quot;</code>，其中 <code>items</code> 是原始数组数据，<code>item</code> 是数组中每个迭代元素的别名。</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">ul</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;example&#34;</span>&gt;
    &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">v-for</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;item in items&#34;</span>&gt;
        {{item.message}}
    &lt;/<span style="color:#f92672">li</span>&gt;
&lt;/<span style="color:#f92672">ul</span>&gt;
&lt;<span style="color:#f92672">script</span>&gt;
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">example</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Vue</span>({
        <span style="color:#a6e22e">el</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;#example&#39;</span>,
        <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> {
            <span style="color:#a6e22e">items</span><span style="color:#f92672">:</span> [
                { <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Foo&#39;</span> },
                { <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Bar&#39;</span> }
            ]
        }
    });
&lt;/<span style="color:#f92672">script</span>&gt;
</code></pre></div><p><code>v-for</code> 还支持可选的第二个参数，作为当前项的索引：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">ul</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;example&#34;</span>&gt;
    &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">v-for</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;(item,index) in items&#34;</span>&gt;
        {{index}} - {{item.message}}
    &lt;/<span style="color:#f92672">li</span>&gt;
&lt;/<span style="color:#f92672">ul</span>&gt;
</code></pre></div><h2 id="遍历对象">遍历对象</h2><p><code>v-for</code> 也支持遍历对象属性，它是按照 <code>Object.keys()</code> 得出 <code>key</code> 的枚举顺序来遍历的：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">v-for</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;value in object&#34;</span>&gt;
    {{ value }}
&lt;/<span style="color:#f92672">div</span>&gt;
&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">v-for</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;(value, key) in object&#34;</span>&gt;
    {{ key }}: {{ value }}
&lt;/<span style="color:#f92672">div</span>&gt;
&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">v-for</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;(value, key, index) in object&#34;</span>&gt;
    {{ index }}. {{ key }}: {{ value }}
&lt;/<span style="color:#f92672">div</span>&gt;
</code></pre></div><h2 id="数组变化检测">数组变化检测</h2><p>Vue 对下列数组方法包装，以便在调用时触发视图更新：</p><ul><li><code>push()</code></li><li><code>pop()</code></li><li><code>shift()</code></li><li><code>unshift()</code></li><li><code>splice()</code></li><li><code>sort()</code></li><li><code>reverse()</code></li></ul><h2 id="数组替换">数组替换</h2><p>有一些方式不是对数据进行替换，而是返回一个新的数组，例如 <code>filter()</code>, <code>concat()</code> 和 <code>slice()</code>。当使用非变化数组方法时，可以将就数组替换为新数组：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">example</span>.<span style="color:#a6e22e">items</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">example</span>.<span style="color:#a6e22e">items</span>.<span style="color:#a6e22e">filter</span>(<span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">item</span>) {
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">item</span>.<span style="color:#a6e22e">message</span>.<span style="color:#a6e22e">match</span>(<span style="color:#e6db74">/Foo/</span>)
})
</code></pre></div><p>因为 JavaScript 语法限制，<strong>Vue 无法检测到以下数组变动</strong>：</p><ol><li>使用索引直接设置一项： <code>example.items[index] = newValue</code>，可以用 Vue 提供的方法设置： <code>vm.$set(vm.items, index, newValue)</code></li><li>修改数组长度：<code>example.items.length = newLength</code>，可以使用 <code>vm.items.splice(newLength)</code> 方法代替</li></ol><h2 id="对象变化检测">对象变化检测</h2><p>Vue 无法检测对象属性的添加或者删除，但是可以通过 <code>Vue.set(object, key, value)</code> 来将响应式属性添加到嵌套对象上。</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">vm</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Vue</span>({
  <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> {
    <span style="color:#a6e22e">a</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>
  }
})
<span style="color:#75715e">// `vm.a` 是响应的
</span><span style="color:#75715e"></span>
<span style="color:#a6e22e">vm</span>.<span style="color:#a6e22e">b</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>
<span style="color:#75715e">// `vm.b` 不是响应的
</span><span style="color:#75715e"></span>
<span style="color:#75715e">/** 可以使用如下方式*/</span>
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">vm</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Vue</span>({
    <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">userProfile</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Anika&#39;</span>
        }
    }
})
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">set</span>(<span style="color:#a6e22e">vm</span>.<span style="color:#a6e22e">userProfile</span>, <span style="color:#e6db74">&#39;age&#39;</span>, <span style="color:#ae81ff">27</span>)
<span style="color:#75715e">// 或者
</span><span style="color:#75715e"></span><span style="color:#a6e22e">vm</span>.<span style="color:#a6e22e">$set</span>(<span style="color:#a6e22e">vm</span>.<span style="color:#a6e22e">userProfile</span>, <span style="color:#e6db74">&#39;age&#39;</span>, <span style="color:#ae81ff">27</span>)
</code></pre></div><h2 id="使用计算属性或者方法">使用计算属性或者方法</h2><p>如果要显示一个数组过滤或者排序后的副本，可以使用计算属性，当计算属性不适用的情况下，可以使用 method 方法：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">v-for</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;n in evenNumbers&#34;</span>&gt; {{n}} &lt;/<span style="color:#f92672">li</span>&gt;
&lt;<span style="color:#f92672">script</span>&gt;
    <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">numbers</span><span style="color:#f92672">:</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>]
    },
    <span style="color:#a6e22e">computed</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">evenNumbers</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> () {
            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">numbers</span>.<span style="color:#a6e22e">filter</span>(<span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">number</span>) {
                <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">number</span> <span style="color:#f92672">%</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">0</span>;
            })
        }
    }
&lt;/<span style="color:#f92672">script</span>&gt;

<span style="color:#75715e">&lt;!-- 使用method --&gt;</span>
&lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">v-for</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;n in even(numbers)&#34;</span>&gt; {{n}} &lt;/<span style="color:#f92672">li</span>&gt;
&lt;<span style="color:#f92672">script</span>&gt;
    <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">numbers</span><span style="color:#f92672">:</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>]
    },
    <span style="color:#a6e22e">methods</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">even</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> () {
            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">numbers</span>.<span style="color:#a6e22e">filter</span>(<span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">number</span>) {
                <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">number</span> <span style="color:#f92672">%</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">0</span>;
            })
        }
    }
&lt;/<span style="color:#f92672">script</span>&gt;
</code></pre></div><h2 id="使用-v-for-在整数值范围内迭代">使用 <code>v-for</code> 在整数值范围内迭代</h2><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">div</span>&gt;
    &lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">v-for</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;n in 10&#34;</span>&gt;{{n}} &lt;/<span style="color:#f92672">span</span>&gt;
&lt;/<span style="color:#f92672">div</span>&gt;
</code></pre></div><h2 id="使用-template-来渲染多个模块">使用 <code>&lt;template&gt;</code> 来渲染多个模块</h2><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">ul</span>&gt;
    &lt;<span style="color:#f92672">template</span> <span style="color:#a6e22e">v-for</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;item in items&#34;</span>&gt;
        &lt;<span style="color:#f92672">li</span>&gt; {{item.msg}} &lt;/<span style="color:#f92672">li</span>&gt;
        &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;divider&#34;</span>&gt;&lt;/<span style="color:#f92672">li</span>&gt;
    &lt;/<span style="color:#f92672">template</span>&gt;
&lt;/<span style="color:#f92672">ul</span>&gt;
</code></pre></div><h2 id="v-for-中的-v-if"><code>v-for</code> 中的 <code>v-if</code></h2><p>当他们处于一个节点时，<code>v-for</code> 的优先级比 <code>v-if</code> 高，这意味着 <code>v-if</code> 将分别在循环中的每次迭代上运行：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">v-for</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;todo in todos&#34;</span> <span style="color:#a6e22e">v-if</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;!todo.isComplete&#34;</span>&gt;
    {{todo}}
&lt;/<span style="color:#f92672">li</span>&gt;
</code></pre></div><h1 id="事件处理">事件处理</h1><p><code>v-on</code> 指令用于监听 DOM 事件，并在事件被触发时，执行一些 JavaScript 代码。</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;example&#34;</span>&gt;
    &lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">v-on:click</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;counter += 1&#34;</span>&gt;增加1&lt;/<span style="color:#f92672">button</span>&gt;
    &lt;<span style="color:#f92672">p</span>&gt; 上面的按钮被点击了 {{counter}} 次 &lt;/<span style="color:#f92672">p</span>&gt;
&lt;/<span style="color:#f92672">div</span>&gt;
&lt;<span style="color:#f92672">script</span>&gt;
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">example</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Vue</span> ({
        <span style="color:#a6e22e">el</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;#example&#39;</span>,
        <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> {
            <span style="color:#a6e22e">counter</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>
        }
    })
&lt;/<span style="color:#f92672">script</span>&gt;
</code></pre></div><h2 id="在-methods-中定义事件处理函数">在 <code>methods</code> 中定义事件处理函数</h2><p>对于复杂的事件处理逻辑，可以调用定义在 <code>methods</code> 中的方法：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;example2&#34;</span>&gt;
    <span style="color:#75715e">&lt;!-- 绑定到方法名 --&gt;</span>
    &lt;<span style="color:#f92672">button</span> <span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">click</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;greet&#34;</span>&gt;Greet&lt;/<span style="color:#f92672">button</span>&gt;
    <span style="color:#75715e">&lt;!-- 直接运行 JavaScript 方法，可以通过 $event 将原始 DOM 事件对象传递给方法 --&gt;</span>
    &lt;<span style="color:#f92672">button</span> <span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">click</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;say(&#39;hi&#39;, $event)&#34;</span>&gt;Say hi&lt;/<span style="color:#f92672">button</span>&gt;
&lt;/<span style="color:#f92672">div</span>&gt;
&lt;<span style="color:#f92672">script</span>&gt;
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">example2</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Vue</span>({
        <span style="color:#a6e22e">el</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;#example2&#39;</span>,
        <span style="color:#a6e22e">methods</span><span style="color:#f92672">:</span> {
            <span style="color:#a6e22e">greet</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">event</span>) {
                <span style="color:#a6e22e">alert</span>(<span style="color:#e6db74">&#39;Hello&#39;</span>);
                <span style="color:#75715e">// event 是原始 DOM 事件对象
</span><span style="color:#75715e"></span>                <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">event</span>) {
                    <span style="color:#a6e22e">alert</span>(<span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">target</span>.<span style="color:#a6e22e">tagName</span>);
                }
            },
            <span style="color:#a6e22e">say</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">msg</span>, <span style="color:#a6e22e">event</span>) {
                <span style="color:#a6e22e">alert</span>(<span style="color:#a6e22e">msg</span>);
                <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">event</span>) <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">preventDefault</span>()
            }
        }
    })
&lt;/<span style="color:#f92672">script</span>&gt;
</code></pre></div><h2 id="事件修饰符">事件修饰符</h2><p>在事件处理程序中调用 <code>event.preventDefault()</code> 或者 <code>event.stopPropagation()</code> 是非常常见的需求。<code>v-on</code> 指令提供了修饰符，可以隐藏 DOM 事件细节：</p><ul><li><code>.stop</code></li><li><code>.prevent</code></li><li><code>.capture</code></li><li><code>.self</code></li><li><code>.once</code></li></ul><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!-- 停止点击事件冒泡 --&gt;</span>
&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">v-on:click</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">stop</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;doThis&#34;</span>&gt;&lt;/<span style="color:#f92672">a</span>&gt;

<span style="color:#75715e">&lt;!-- 提交事件不再重新载入页面 --&gt;</span>
&lt;<span style="color:#f92672">form</span> <span style="color:#a6e22e">v-on:submit</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">prevent</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;onSubmit&#34;</span>&gt;&lt;/<span style="color:#f92672">form</span>&gt;

<span style="color:#75715e">&lt;!-- 修饰符可以链式调用 --&gt;</span>
&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">v-on:click</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">stop</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">prevent</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;doThat&#34;</span>&gt;&lt;/<span style="color:#f92672">a</span>&gt;

<span style="color:#75715e">&lt;!-- 只有修饰符 --&gt;</span>
&lt;<span style="color:#f92672">form</span> <span style="color:#a6e22e">v-on:submit</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">prevent</span>&gt;&lt;/<span style="color:#f92672">form</span>&gt;

<span style="color:#75715e">&lt;!-- 添加事件监听器时，使用事件捕获模式 --&gt;</span>
<span style="color:#75715e">&lt;!-- 也就是说，内部元素触发的事件先在此处处理，然后才交给内部元素进行处理 --&gt;</span>
&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">v-on:click</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">capture</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;doThis&#34;</span>&gt;...&lt;/<span style="color:#f92672">div</span>&gt;

<span style="color:#75715e">&lt;!-- 只有在 event.target 是元素自身时，才触发处理函数。 --&gt;</span>
<span style="color:#75715e">&lt;!-- 也就是说，event.target 是子元素时，不触发处理函数 --&gt;</span>
&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">v-on:click</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">self</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;doThat&#34;</span>&gt;...&lt;/<span style="color:#f92672">div</span>&gt;
</code></pre></div><blockquote><p>使用修饰符时的顺序会产生一些影响，因为相关的代码会以相同的顺序生成。所以，使用<code>v-on:click.prevent.self</code> 会阻止所有点击，而 <code>v-on:click.self.prevent</code> 只阻止元素自身的点击。</p></blockquote><h2 id="按键修饰符">按键修饰符</h2><p>在监听键盘事件时，我们经常需要查找常用按键对应的 code 值。Vue可以在 <code>v-on</code> 上添加按键修饰符，用于监听按键事件：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!-- 只在 `keyCode` 是 13 时，调用 `vm.submit()` --&gt;</span>
&lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">v-on:keyup</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">13</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;submit&#34;</span>&gt;
</code></pre></div><p>Vue 提供了常用按键的别名：</p><ul><li><code>.enter</code></li><li><code>.tab</code></li><li><code>.delete</code></li><li><code>.esc</code></li><li><code>.space</code></li><li><code>.up</code></li><li><code>.down</code></li><li><code>.left</code></li><li><code>.right</code></li></ul><h2 id="系统辅助按键">系统辅助按键</h2><p>修饰符对应的按键被按下时，才会触发鼠标或键盘事件监听器：</p><ul><li><code>.ctrl</code></li><li><code>.alt</code></li><li><code>.shift</code></li><li><code>.meta</code></li></ul><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!-- Alt + C --&gt;</span>
&lt;<span style="color:#f92672">input</span> <span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">keyup</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">alt</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">67</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;clear&#34;</span>&gt;

<span style="color:#75715e">&lt;!-- Ctrl + Click --&gt;</span>
&lt;<span style="color:#f92672">div</span> <span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">click</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">ctrl</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;doSomething&#34;</span>&gt;做一些操作&lt;/<span style="color:#f92672">div</span>&gt;
</code></pre></div><h1 id="表单绑定">表单绑定</h1><p><code>v-model</code> 指令可以将表单中的数据绑定起来。</p><h2 id="input"><code>input</code></h2><p>使用 <code>v-model</code> 指令将表单中的 <code>input</code> 和 <code>textarea</code> 元素上创建双向数据绑定。</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">v-model</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;message&#34;</span> <span style="color:#a6e22e">placeholder</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;编辑&#34;</span>&gt;
&lt;<span style="color:#f92672">p</span>&gt;message 是：{{ message }}&lt;/<span style="color:#f92672">p</span>&gt;

&lt;<span style="color:#f92672">span</span>&gt;多行 message 是：&lt;/<span style="color:#f92672">span</span>&gt;
&lt;<span style="color:#f92672">p</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;white-space: pre-line;&#34;</span>&gt;{{ message }}&lt;/<span style="color:#f92672">p</span>&gt;
&lt;<span style="color:#f92672">br</span>&gt;
&lt;<span style="color:#f92672">textarea</span> <span style="color:#a6e22e">v-model</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;message&#34;</span> <span style="color:#a6e22e">placeholder</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;添加多行&#34;</span>&gt;&lt;/<span style="color:#f92672">textarea</span>&gt;
</code></pre></div><h2 id="checkbox"><code>checkbox</code></h2><p>单选 checkbox:</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;checkbox&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;checkbox&#34;</span> <span style="color:#a6e22e">v-model</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;checked&#34;</span>&gt;
&lt;<span style="color:#f92672">label</span> <span style="color:#a6e22e">for</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;checkbox&#34;</span>&gt;{{ checked }}&lt;/<span style="color:#f92672">label</span>&gt;
</code></pre></div><p>多选 checkbox，绑定到同一个数组：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;example2&#39;</span>&gt;
    &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;checkbox&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;jack&#34;</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Jack&#34;</span> <span style="color:#a6e22e">v-model</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;checkedNames&#34;</span>&gt;
    &lt;<span style="color:#f92672">label</span> <span style="color:#a6e22e">for</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;jack&#34;</span>&gt;Jack&lt;/<span style="color:#f92672">label</span>&gt;
    &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;checkbox&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;john&#34;</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;John&#34;</span> <span style="color:#a6e22e">v-model</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;checkedNames&#34;</span>&gt;
    &lt;<span style="color:#f92672">label</span> <span style="color:#a6e22e">for</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;john&#34;</span>&gt;John&lt;/<span style="color:#f92672">label</span>&gt;
    &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;checkbox&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;mike&#34;</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Mike&#34;</span> <span style="color:#a6e22e">v-model</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;checkedNames&#34;</span>&gt;
    &lt;<span style="color:#f92672">label</span> <span style="color:#a6e22e">for</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;mike&#34;</span>&gt;Mike&lt;/<span style="color:#f92672">label</span>&gt;
    &lt;<span style="color:#f92672">br</span>&gt;
    &lt;<span style="color:#f92672">span</span>&gt;勾选的名字是：{{ checkedNames }}&lt;/<span style="color:#f92672">span</span>&gt;
&lt;/<span style="color:#f92672">div</span>&gt;
&lt;<span style="color:#f92672">script</span>&gt;
<span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Vue</span>({
    <span style="color:#a6e22e">el</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;#example2&#39;</span>,
    <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">checkedNames</span><span style="color:#f92672">:</span> []
    }
})
&lt;/<span style="color:#f92672">script</span>&gt;
</code></pre></div><h2 id="radio"><code>radio</code></h2><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;example3&#34;</span>&gt;
    &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;radio&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;one&#34;</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;one&#34;</span> <span style="color:#a6e22e">v-model</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;picked&#34;</span>&gt;
    &lt;<span style="color:#f92672">label</span> <span style="color:#a6e22e">for</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;one&#34;</span>&gt;One&lt;/<span style="color:#f92672">label</span>&gt;
    &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;radio&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;two&#34;</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Two&#34;</span> <span style="color:#a6e22e">v-model</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;picked&#34;</span>&gt;
    &lt;<span style="color:#f92672">label</span> <span style="color:#a6e22e">for</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;two&#34;</span>&gt;Two&lt;/<span style="color:#f92672">label</span>&gt;
    &lt;<span style="color:#f92672">span</span>&gt;选中的是：{{ picked }}&lt;/<span style="color:#f92672">span</span>&gt;
&lt;/<span style="color:#f92672">div</span>&gt;
&lt;<span style="color:#f92672">script</span>&gt;
    <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Vue</span>({
        <span style="color:#a6e22e">el</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;#example3&#39;</span>,
        <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> {
            <span style="color:#a6e22e">picked</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>
        }
    })
&lt;/<span style="color:#f92672">script</span>&gt;
</code></pre></div><h2 id="select"><code>select</code></h2><p>单选：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;example4&#34;</span>&gt;
    &lt;<span style="color:#f92672">select</span> <span style="color:#a6e22e">v-model</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;selected&#34;</span>&gt;
        &lt;<span style="color:#f92672">option</span> <span style="color:#a6e22e">disabled</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>&gt;请选择其中一项&lt;/<span style="color:#f92672">option</span>&gt;
        &lt;<span style="color:#f92672">option</span>&gt;A&lt;/<span style="color:#f92672">option</span>&gt;
        &lt;<span style="color:#f92672">option</span>&gt;B&lt;/<span style="color:#f92672">option</span>&gt;
        &lt;<span style="color:#f92672">option</span>&gt;C&lt;/<span style="color:#f92672">option</span>&gt;
    &lt;/<span style="color:#f92672">select</span>&gt;
    &lt;<span style="color:#f92672">span</span>&gt;选中的是：{{ selected }}&lt;/<span style="color:#f92672">span</span>&gt;
&lt;/<span style="color:#f92672">div</span>&gt;
&lt;<span style="color:#f92672">script</span>&gt;
    <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Vue</span>({
        <span style="color:#a6e22e">el</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;#example4&#39;</span>,
        <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> {
            <span style="color:#a6e22e">selected</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>
        }
    })
&lt;/<span style="color:#f92672">script</span>&gt;
</code></pre></div><p>多选：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;example5&#34;</span> &gt;
    多选
    &lt;<span style="color:#f92672">select</span> <span style="color:#a6e22e">v-model</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;selected&#34;</span> <span style="color:#a6e22e">multiple</span>&gt;
        &lt;<span style="color:#f92672">option</span> <span style="color:#a6e22e">v-for</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;option in options&#34;</span> <span style="color:#a6e22e">v-bind:value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;option.value&#34;</span>&gt;
            {{ option.text }}
        &lt;/<span style="color:#f92672">option</span>&gt;
    &lt;/<span style="color:#f92672">select</span>&gt;
    &lt;<span style="color:#f92672">span</span>&gt;选中的是：{{ selected }}&lt;/<span style="color:#f92672">span</span>&gt;
&lt;/<span style="color:#f92672">div</span>&gt;
&lt;<span style="color:#f92672">script</span>&gt;
    <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Vue</span>({
        <span style="color:#a6e22e">el</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;#example5&#39;</span>,
        <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> {
            <span style="color:#a6e22e">selected</span><span style="color:#f92672">:</span> [],
            <span style="color:#a6e22e">options</span><span style="color:#f92672">:</span> [
                { <span style="color:#a6e22e">text</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;One&#39;</span>, <span style="color:#a6e22e">value</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;A&#39;</span> },
                { <span style="color:#a6e22e">text</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Two&#39;</span>, <span style="color:#a6e22e">value</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;B&#39;</span> },
                { <span style="color:#a6e22e">text</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Three&#39;</span>, <span style="color:#a6e22e">value</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;C&#39;</span> }
            ]
        }
    })
&lt;/<span style="color:#f92672">script</span>&gt;
</code></pre></div><h2 id="同-value-属性绑定">同 <code>value</code> 属性绑定</h2><p><code>v-model</code> 将 radio, checkbox, select的option选项与静态字符串 <code>value</code> 属性关联在一起。有时也可能需要把 value 与 Vue 实例上的动态属性绑定到一起，可以通过 <code>v-bind</code> 来实现。</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!-- checkbox --&gt;</span>
&lt;<span style="color:#f92672">input</span>
  <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;checkbox&#34;</span>
  <span style="color:#a6e22e">v-model</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;toggle&#34;</span>
  <span style="color:#a6e22e">true-value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;yes&#34;</span>
  <span style="color:#a6e22e">false-value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;no&#34;</span>
&gt;

<span style="color:#75715e">&lt;!-- radio --&gt;</span>
&lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;radio&#34;</span> <span style="color:#a6e22e">v-model</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;pick&#34;</span> <span style="color:#a6e22e">v-bind:value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;a&#34;</span>&gt;

<span style="color:#75715e">&lt;!-- select --&gt;</span>
&lt;<span style="color:#f92672">select</span> <span style="color:#a6e22e">v-model</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;selected&#34;</span>&gt;
    <span style="color:#75715e">&lt;!-- 内联对象字面量 --&gt;</span>
    &lt;<span style="color:#f92672">option</span> <span style="color:#a6e22e">v-bind:value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{ number: 123 }&#34;</span>&gt;123&lt;/<span style="color:#f92672">option</span>&gt;
&lt;/<span style="color:#f92672">select</span>&gt;
</code></pre></div><h2 id="修饰符-1">修饰符</h2><p>默认情况下， <code>v-model</code> 会在每次 <code>input</code> 事件触发后，将数据同步到 <code>input</code> 元素中。可以添加 <code>lazy</code> 修饰符，转为触发 <code>change</code> 事件后同步：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!-- 在触发 &#34;change&#34; 事件后同步，而不是在触发 &#34;input&#34; 事件后更新 --&gt;</span>
&lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">v-model</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">lazy</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;msg&#34;</span> &gt;
</code></pre></div><p>将用户的输入，自动转换为 Number 类型:</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">v-model</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">number</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;age&#34;</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;number&#34;</span>&gt;
</code></pre></div><p>将用户的输入，自动过滤掉首尾空格:</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">v-model</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">trim</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;msg&#34;</span>&gt;
</code></pre></div><h1 id="组件">组件</h1><p>以下是一个简单的 Vue 组件示例：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">// 定义一个新的组件，名称是 button-counter
</span><span style="color:#75715e"></span><span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">component</span>(<span style="color:#e6db74">&#39;button-counter&#39;</span>, {
    <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> () {
        <span style="color:#66d9ef">return</span> {
            <span style="color:#a6e22e">count</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>
        }
    },
    <span style="color:#a6e22e">template</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&lt;button v-on:click=&#34;count++&#34;&gt;你点击了 {{ count }} 次。&lt;/button&gt;&#39;</span>
})
</code></pre></div><p><strong>组件中的 <code>data</code> 必须是一个函数</strong>，这是便于每个实例都可以维护彼此独立的数据副本。</p><p>上面代码中定义了一个组件，组件时具有 <code>name</code> 名称的可复用的 Vue 实例。 使用 <code>new Vue</code> 创建一个 Vue 根实例，然后可以将该组件作为其中的一个元素：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;components&#34;</span>&gt;
    &lt;<span style="color:#f92672">button-counter</span>&gt;&lt;/<span style="color:#f92672">button-counter</span>&gt;
    &lt;<span style="color:#f92672">button-counter</span>&gt;&lt;/<span style="color:#f92672">button-counter</span>&gt;
    &lt;<span style="color:#f92672">button-counter</span>&gt;&lt;/<span style="color:#f92672">button-counter</span>&gt;
&lt;/<span style="color:#f92672">div</span>&gt;
&lt;<span style="color:#f92672">script</span>&gt;
    <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Vue</span>({<span style="color:#a6e22e">el</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;#components&#39;</span>})
&lt;/<span style="color:#f92672">script</span>&gt;
</code></pre></div><blockquote><p>当点击按钮时，每个按钮都维护彼此独立的 <code>count</code>，因为每次使用组件，都会创建出一个新的组件实例。</p></blockquote><h2 id="注册组件">注册组件</h2><p>注册组件有两种方式：全局注册和局部注册：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">// 全局注册方式
</span><span style="color:#75715e"></span><span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">component</span>(<span style="color:#e6db74">&#39;my-component-name&#39;</span>, {
    <span style="color:#75715e">// ... options ...
</span><span style="color:#75715e"></span>})

<span style="color:#75715e">// 局部注册方式
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">componentA</span> <span style="color:#f92672">=</span> {};
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">componentB</span> <span style="color:#f92672">=</span> { <span style="color:#75715e">/* ... */</span> }
<span style="color:#75715e">// 在 `components` 选项中，定义所用到的组件
</span><span style="color:#75715e"></span><span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Vue</span> ({
    <span style="color:#a6e22e">el</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;#app&#39;</span>
    <span style="color:#a6e22e">components</span><span style="color:#f92672">:</span> {
        <span style="color:#e6db74">&#39;component-a&#39;</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">componentA</span>,
        <span style="color:#e6db74">&#39;component-b&#39;</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">componentB</span>
    }
})
</code></pre></div><p><code>components</code> 对象的每个属性，key是自定义元素的名称，value 是组件对象。</p><p><strong>局部注册的组件在子组件中无法访问</strong>，若想在 <code>componentB</code> 中访问 <code>componentA</code>，就必须在 <code>componentB</code> 中引入 <code>componentA</code>：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">componentB</span> <span style="color:#f92672">=</span> {
    <span style="color:#a6e22e">components</span><span style="color:#f92672">:</span> {
        <span style="color:#e6db74">&#39;component-a&#39;</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">componentA</span>
    }
}
</code></pre></div><h2 id="模块系统">模块系统</h2><p>模块系统中，推荐将组件文件放到 <code>components</code> 目录下。然后在局部注册组件前，需要预先导入每个需要用到的组件：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">componentA</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;./componentA&#39;</span>

<span style="color:#75715e">// 可以在这个模块使用 componentA 组件
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
    <span style="color:#a6e22e">components</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">componentA</span>
    },
}
</code></pre></div><p>对于许多相对通用的组件，可以注册成全局组件，避免每个模块都引入一些列的基本组件：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Vue</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">upperFirst</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;lodash/upperFirst&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">camelCase</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;lodash/camelCase&#39;</span>

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">requireComponent</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>.<span style="color:#a6e22e">context</span>(
    <span style="color:#75715e">// components 文件夹的相对路径
</span><span style="color:#75715e"></span>    <span style="color:#e6db74">&#39;./components&#39;</span>,
    <span style="color:#75715e">// 是否查找子文件夹
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">false</span>,
    <span style="color:#75715e">// 用于匹配组件文件名的正则表达式
</span><span style="color:#75715e"></span>    <span style="color:#e6db74">/Base[A-Z]\w+\.(vue|js)$/</span>
)

<span style="color:#a6e22e">requireComponent</span>.<span style="color:#a6e22e">keys</span>().<span style="color:#a6e22e">forEach</span>(<span style="color:#a6e22e">fileName</span> =&gt; {
    <span style="color:#75715e">// 获取组件配置
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">componentConfig</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">requireComponent</span>(<span style="color:#a6e22e">fileName</span>)

    <span style="color:#75715e">// 取得组件的 Pascal 式命名
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">componentName</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">upperFirst</span>(
        <span style="color:#a6e22e">camelCase</span>(
        <span style="color:#75715e">// 将文件名前面的 `&#39;./` 和扩展名剥离
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">fileName</span>.<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/^\.\/(.*)\.\w+$/</span>, <span style="color:#e6db74">&#39;$1&#39;</span>)
        )
    )

    <span style="color:#75715e">// 以全局方式注册组件
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">component</span>(
        <span style="color:#a6e22e">componentName</span>,
        <span style="color:#75715e">// 如果组件是通过 `export default` 导出，
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// 则在 `.default` 中，查找组件选项，
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// 否则回退至模块根对象中，查找组件选项
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">componentConfig</span>.<span style="color:#66d9ef">default</span> <span style="color:#f92672">||</span> <span style="color:#a6e22e">componentConfig</span>
    )
})
</code></pre></div><h2 id="使用-props-向子组件中传递数据">使用 <code>props</code> 向子组件中传递数据</h2><p><code>props</code> 是注册在组件选项上的自定义属性。当一个值被放置在 <code>props</code> 中，作为其中一个 <code>prop</code>，这个值就会成为组件实例上的一个可访问的属性：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">component</span>(<span style="color:#e6db74">&#39;blog-post&#39;</span>, {
    <span style="color:#a6e22e">props</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#39;title&#39;</span>],
    <span style="color:#a6e22e">template</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&lt;h3&gt;{{title}}&lt;/h3&gt;&#39;</span>
})
</code></pre></div><p>在预先注册好一个 <code>prop</code> 属性之后，就可以将数据作为自定义属性传递给这个 <code>prop</code> 属性：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!-- 静态 props --&gt;</span>
&lt;<span style="color:#f92672">blog-post</span> <span style="color:#a6e22e">title</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;我的 Vue 旅程&#34;</span>&gt;&lt;/<span style="color:#f92672">blog-post</span>&gt;
&lt;<span style="color:#f92672">blog-post</span> <span style="color:#a6e22e">title</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;用 Vue 写博客&#34;</span>&gt;&lt;/<span style="color:#f92672">blog-post</span>&gt;
</code></pre></div><p>也可以将 <code>data</code> 中的 <code>posts</code> 设为一个数组：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Vue</span>({
    <span style="color:#a6e22e">el</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;#blog-post-demo&#39;</span>,
    <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">posts</span><span style="color:#f92672">:</span> [
            { <span style="color:#a6e22e">id</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>, <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;我的 Vue 旅程&#39;</span> },
            { <span style="color:#a6e22e">id</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">2</span>, <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;用 Vue 写博客&#39;</span> },
            { <span style="color:#a6e22e">id</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">3</span>, <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Vue 如此有趣&#39;</span> },
        ]
    }
})
</code></pre></div><p>然后将每条数据渲染为一个组件，动态的 props，使用 <code>v-bind</code> 来绑定：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!-- 动态 props --&gt;</span>
&lt;<span style="color:#f92672">blog-post</span>
    <span style="color:#a6e22e">v-for</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;post in posts&#34;</span>
    <span style="color:#a6e22e">v-bind:key</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;post.id&#34;</span>
    <span style="color:#a6e22e">v-bind:title</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;post.title&#34;</span>&gt;
&lt;/<span style="color:#f92672">blog-post</span>&gt;
</code></pre></div><p>HTML 属性名称对大小写不敏感，浏览器会将所有大写字符解释为小写字符。因此，<strong>在 DOM 模板中写 prop 时，应当将驼峰式转写为等价的串联式</strong>：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;example&#34;</span>&gt;
    &lt;<span style="color:#f92672">blog-post</span> <span style="color:#a6e22e">post-title</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;hello!&#34;</span>&gt;&lt;/<span style="color:#f92672">blog-post</span>&gt;
&lt;/<span style="color:#f92672">div</span>&gt;
 &lt;<span style="color:#f92672">script</span>&gt;
    <span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">component</span>(<span style="color:#e6db74">&#39;blog-post&#39;</span>, {
        <span style="color:#a6e22e">props</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#39;postTitle&#39;</span>],
        <span style="color:#a6e22e">template</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`&lt;h3&gt;{{postTitle}}&lt;/h3&gt;`</span>
    })

    <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Vue</span>({
        <span style="color:#a6e22e">el</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;#example&#39;</span>
    })
&lt;/<span style="color:#f92672">script</span>&gt;
</code></pre></div><h3 id="单向数据流">单向数据流</h3><p>所有 <code>props</code> 都在父组件和子组件之间形成一个单向往下流动的数据绑定：当父组件的属性更新时，数据就会向下流动到子组件；但是，子组件的属性更新时，父组件并不会感知。这种机制可以防止子组件意外地修改了父组件的状态，造成应用程序的数据流变得难以理解。 一般，我们会在两种情况下修改子组的 prop：</p><ol><li>prop 用于传递初始值，之后子组件将 prop 转换为一个局部数据属性。这种情况下，最好定义一个局部的 data 属性，然后将 prop 的值，作为局部属性的初始值：<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">props</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#39;initialCounter&#39;</span>],
<span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> () {
    <span style="color:#66d9ef">return</span> {
        <span style="color:#a6e22e">counter</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">initialCounter</span>
    }
}
</code></pre></div></li><li>prop 用于传递一个需要转换的未加工值。这种情况下，最好预先定义一个 computed 属性，然后在函数内部引用 prop 的值：<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">props</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#39;size&#39;</span>],
<span style="color:#a6e22e">computed</span><span style="color:#f92672">:</span> {
    <span style="color:#a6e22e">normalizedSize</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> () {
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">size</span>.<span style="color:#a6e22e">trim</span>().<span style="color:#a6e22e">toLowerCase</span>()
    }
}
</code></pre></div></li></ol><blockquote><p>JavaScript 中的对象和数组都是通过引用传递的，如果 prop 是一个数组或对象，则在子组件内部改变对象或数组本身，仍然会影响到父组件的状态。</p></blockquote><h3 id="prop-验证">prop 验证</h3><p>可以为 props 指定一些接收条件，如果某个接收条件未满足验证，Vue 就会在浏览器的 JavaScript 控制台中发出警告。这时 <code>props</code> 的值就是一个带有验证条件的对象：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">component</span>(<span style="color:#e6db74">&#39;my-component&#39;</span>, {
    <span style="color:#a6e22e">props</span><span style="color:#f92672">:</span> {
        <span style="color:#75715e">// 基本类型(base type)的检查（`null` 表示接受所有类型）
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">propA</span><span style="color:#f92672">:</span> Number,
        <span style="color:#75715e">// 多种可能的类型
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">propB</span><span style="color:#f92672">:</span> [String, Number],
        <span style="color:#75715e">// 必须传递，且 String 类型
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">propC</span><span style="color:#f92672">:</span> {
            <span style="color:#a6e22e">type</span><span style="color:#f92672">:</span> String,
            <span style="color:#a6e22e">required</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>
        },
        <span style="color:#75715e">// Number 类型，有一个默认值
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">propD</span><span style="color:#f92672">:</span> {
            <span style="color:#a6e22e">type</span><span style="color:#f92672">:</span> Number,
            <span style="color:#66d9ef">default</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">100</span>
        },
        <span style="color:#75715e">// Object 类型，有一个默认值
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">propE</span><span style="color:#f92672">:</span> {
            <span style="color:#a6e22e">type</span><span style="color:#f92672">:</span> Object,
            <span style="color:#75715e">// Object/Array 类型，
</span><span style="color:#75715e"></span>            <span style="color:#75715e">// 默认必须返回一个工厂函数
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">default</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> () {
                <span style="color:#66d9ef">return</span> { <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;hello&#39;</span> }
            }
        },
        <span style="color:#75715e">// 自定义验证函数
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">propF</span><span style="color:#f92672">:</span> {
            <span style="color:#a6e22e">validator</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">value</span>) {
                <span style="color:#75715e">// 值必须是这些字符串中的一个
</span><span style="color:#75715e"></span>                <span style="color:#66d9ef">return</span> [<span style="color:#e6db74">&#39;success&#39;</span>, <span style="color:#e6db74">&#39;warning&#39;</span>, <span style="color:#e6db74">&#39;danger&#39;</span>].<span style="color:#a6e22e">indexOf</span>(<span style="color:#a6e22e">value</span>) <span style="color:#f92672">!==</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>
            }
        }
    }
})
</code></pre></div><p>props 会在组件实例创建之前进行验证，因此在 <code>default</code> 或 <code>validator</code> 这些验证函数中，无法访问到实例上的属性，例如<code>data</code>, <code>computed</code>.</p><p>其中类型 <code>type</code> 可以是以下原生构造函数：</p><ul><li>String</li><li>Number</li><li>Boolean</li><li>Function</li><li>Object</li><li>Array</li><li>Symbol</li></ul><p>还可以自定义函数，Vue 会通过 <code>instanceof</code> 对 props 值进行类型推断：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">Person</span>(<span style="color:#a6e22e">firstName</span>, <span style="color:#a6e22e">lastName</span>) {
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">firstName</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">firstName</span>;
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">lastName</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">lastName</span>;
}

<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">component</span>(<span style="color:#e6db74">&#39;blog-post&#39;</span>, {
    <span style="color:#a6e22e">props</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">author</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Person</span>
    }
})
</code></pre></div><h2 id="使用-events-向父组件发送消息">使用 <code>events</code> 向父组件发送消息</h2><p>当子组件要向父组件通信时，可以调用实例中内置的 <code>$emit</code> 方法来向父组件中发送事件：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">component</span>(<span style="color:#e6db74">&#39;blog-post&#39;</span>, {
    <span style="color:#a6e22e">props</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#39;post&#39;</span>],
    <span style="color:#a6e22e">template</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`
</span><span style="color:#e6db74">        &lt;div class=&#34;blog-post&#34;&gt;
</span><span style="color:#e6db74">            &lt;h3&gt;{{ post.title }}&lt;/h3&gt;
</span><span style="color:#e6db74">            &lt;button @click=&#34;$emit(&#39;enlarge-text&#39;)&#34;&gt; 放大文本 &lt;/button&gt;
</span><span style="color:#e6db74">            &lt;div v-html=&#34;post.content&#34;&gt;&lt;/div&gt;
</span><span style="color:#e6db74">        &lt;/div&gt;
</span><span style="color:#e6db74">    `</span>
})
</code></pre></div><p>在父组件中也需要 <code>v-on</code> 来监听这个事件：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;components3&#34;</span>&gt;
    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">:style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{ fontSize: postFontSize + &#39;em&#39; }&#34;</span>&gt;
        &lt;<span style="color:#f92672">blog-post</span>
            <span style="color:#a6e22e">v-for</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;post in posts&#34;</span>
            <span style="color:#a6e22e">v-bind:key</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;post.id&#34;</span>
            <span style="color:#a6e22e">v-bind:post</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;post&#34;</span>
            <span style="color:#a6e22e">v-on:enlarge-text</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;postFontSize += 0.1&#34;</span>
        &gt;&lt;/<span style="color:#f92672">blog-post</span>&gt;
    &lt;/<span style="color:#f92672">div</span>&gt;
&lt;/<span style="color:#f92672">div</span>&gt;
</code></pre></div><p>当然，也可以在 <code>event</code> 事件中发送一个特定的值，可以使用 <code>$emit</code> 的第二个参数：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">button</span> <span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">click</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;$emit(&#39;enlarge-text&#39;, 0.1)&#34;</span>&gt;放大文本&lt;/<span style="color:#f92672">button</span>&gt;
</code></pre></div><p>然后，在父实例中监听这个事件，并通过 <code>$event</code> 来访问这次事件的值：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">blog-post</span> <span style="color:#a6e22e">v-on:enlarge-text</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;postFontSize += $event&#34;</span>&gt;&lt;/<span style="color:#f92672">blog-post</span>&gt;
</code></pre></div><p>如果事件处理函数是一个方法：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">blog-post</span> <span style="color:#a6e22e">v-on:enlarge-text</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;onEnlargeText&#34;</span>&gt;&lt;/<span style="color:#f92672">blog-post</span>&gt;
&lt;<span style="color:#f92672">script</span>&gt;
    <span style="color:#a6e22e">methods</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">onEnlargeText</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">enlargeAmount</span>) {
            <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">postFontSize</span> <span style="color:#f92672">+=</span> <span style="color:#a6e22e">enlargeAmount</span>
        }
    }
&lt;/<span style="color:#f92672">script</span>&gt;
</code></pre></div><p>还可以使用 <code>v-model</code> 来创建自定义事件：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">v-model</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;searchText&#34;</span>&gt;
<span style="color:#75715e">&lt;!-- input 等同于 --&gt;</span>
&lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">v-bind:value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;searchText&#34;</span> <span style="color:#a6e22e">v-on:input</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;$event.target.value&#34;</span>&gt;
</code></pre></div><p>对于组件，<code>v-model</code> 可以替换如下：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">custom-input</span> <span style="color:#a6e22e">v-bind:value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;searchText&#34;</span> <span style="color:#a6e22e">v-on:input</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;searchText = $event&#34;</span>&gt;&lt;/<span style="color:#f92672">custom-input</span>&gt;
</code></pre></div><p>为了组件内部能够有效运行，组件内的 <code>&lt;input&gt;</code> 必须：</p><ul><li>将 <code>value</code> 属性绑定到 <code>value</code> 的 prop</li><li>在 <code>input</code> 输入框中，在自定义的 <code>input</code> 事件中，发送一个新值</li></ul><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">component</span>(<span style="color:#e6db74">&#39;custom-input&#39;</span>, {
    <span style="color:#a6e22e">props</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#39;value&#39;</span>],
    <span style="color:#a6e22e">template</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`
</span><span style="color:#e6db74">        &lt;input 
</span><span style="color:#e6db74">            v-bind:value=&#34;value&#34;
</span><span style="color:#e6db74">            v-on:input=&#34;$emit(&#39;input&#39;, $event.target.value)&#34;&gt;
</span><span style="color:#e6db74">    `</span>
})
</code></pre></div><p>现在 <code>custom-input</code> 组件，应该可以实现 <code>v-model</code> 的完美运行：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">custom-input</span> <span style="color:#a6e22e">v-model</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;searchText&#34;</span>&gt;&lt;/<span style="color:#f92672">custom-input</span>&gt;
</code></pre></div><h1 id="自定义事件">自定义事件</h1><p>与 components 和 props 不同，事件名称并不提供命名自动转换。触发的事件名称必须与监听时的名称完全匹配，否则无法接收到事件。</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$emit</span>(<span style="color:#e6db74">&#34;myEvent&#34;</span>);
</code></pre></div><p>以下方式无法接收到事件：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">my-component</span> <span style="color:#a6e22e">v-on:my-event</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;doSomething&#34;</span>&gt;&lt;/<span style="color:#f92672">my-component</span>&gt;
</code></pre></div><p><strong>总是使用串联式命名(kebab-cased)来命名事件名称</strong></p><h2 id="定制组件-v-model">定制组件 <code>v-model</code></h2><p>自定义事件还可以用来创建出 “实现 <code>v-model</code> 机制的自定义输入框”：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">v-model</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;searchText&#34;</span>&gt;
<span style="color:#75715e">&lt;!-- 等同于 --&gt;</span>
&lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">v-bind:value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;searchText&#34;</span>
       <span style="color:#a6e22e">v-on:input</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;searchText = $event.target.value&#34;</span>&gt;
<span style="color:#75715e">&lt;!-- 用组件替换 --&gt;</span>
&lt;<span style="color:#f92672">custom-input</span>
    <span style="color:#a6e22e">v-bind:value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;searchText&#34;</span>
    <span style="color:#a6e22e">v-on:input</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;searchText = $event&#34;</span>
&gt;&lt;/<span style="color:#f92672">custom-input</span>&gt;
</code></pre></div><p>为了组件内部能够有效运行，组件内的 <code>&lt;input&gt;</code> 必须：</p><ul><li>将 <code>value</code> 属性绑定到 <code>value</code> prop</li><li>在 <code>input</code> 输入框中，在自定义的 <code>input</code> 事件中，发送一个新的值：</li></ul><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">component</span>(<span style="color:#e6db74">&#39;custom-input&#39;</span>, {
    <span style="color:#a6e22e">props</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#39;value&#39;</span>],
    <span style="color:#a6e22e">template</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`
</span><span style="color:#e6db74">        &lt;input 
</span><span style="color:#e6db74">            v-bind:value=&#34;value&#34;
</span><span style="color:#e6db74">            v-on:input=&#34;$emit(&#39;input&#39;, $event.target.value)
</span><span style="color:#e6db74">        &gt;
</span><span style="color:#e6db74">    `</span>
})
</code></pre></div><p>现在我们的组件可以用 <code>v-model</code> 完美运行：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">custom-input</span> <span style="color:#a6e22e">v-model</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;searchText&#34;</span>&gt;&lt;/<span style="color:#f92672">custom-input</span>&gt;
</code></pre></div><p>在一个组件中，<code>v-model</code> 默认使用 <code>value</code> 作为 prop，已经默认使用 <code>input</code> 作为监听事件。然而对于CheckBox和radio等input元素，由于他们的input元素本身具有不同的语法，可能会占用 <code>value</code> 的特性。使用组件的 <code>model</code> 选项可以避免冲突：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">component</span>(<span style="color:#e6db74">&#39;base-checkbox&#39;</span>, {
    <span style="color:#a6e22e">model</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">prop</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;checked&#39;</span>,
        <span style="color:#a6e22e">event</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;change&#39;</span>
    },
    <span style="color:#a6e22e">props</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">checked</span><span style="color:#f92672">:</span> Boolean
    },
    <span style="color:#a6e22e">template</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`
</span><span style="color:#e6db74">        &lt;input
</span><span style="color:#e6db74">        type=&#34;checkbox&#34;
</span><span style="color:#e6db74">        v-bind:checked=&#34;checked&#34;
</span><span style="color:#e6db74">        v-on:change=&#34;$emit(&#39;change&#39;, $event.target.checked)&#34;
</span><span style="color:#e6db74">        &gt;
</span><span style="color:#e6db74">    `</span>
})
</code></pre></div><p>现在可以在这个组件中使用 <code>v-model</code>:</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">base-checkbox</span> <span style="color:#a6e22e">v-model</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;lovingVue&#34;</span>&gt;&lt;/<span style="color:#f92672">base-checkbox</span>&gt;
</code></pre></div><h2 id="将原生事件绑定到组件">将原生事件绑定到组件</h2><p>如果要在根组件上监听一个原生事件，可以使用 <code>v-on</code> 的 <code>.native</code> 修饰符：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">base-input</span> <span style="color:#a6e22e">v-on:focus</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">native</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;onFocus&#39;</span>&gt;&lt;/<span style="color:#f92672">base-input</span>&gt;
</code></pre></div><p>如果 <code>base-input</code> 标签的根元素是 <code>input</code>，上述代码没有问题，如果根元素是 <code>label</code>:</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#f92672">&lt;</span><span style="color:#a6e22e">label</span><span style="color:#f92672">&gt;</span>
  {{ <span style="color:#a6e22e">label</span> }}
  <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">input</span>
    <span style="color:#a6e22e">v</span><span style="color:#f92672">-</span><span style="color:#a6e22e">bind</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;$attrs&#34;</span>
    <span style="color:#a6e22e">v</span><span style="color:#f92672">-</span><span style="color:#a6e22e">bind</span><span style="color:#f92672">:</span><span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;value&#34;</span>
    <span style="color:#a6e22e">v</span><span style="color:#f92672">-</span><span style="color:#a6e22e">on</span><span style="color:#f92672">:</span><span style="color:#a6e22e">input</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;$emit(&#39;input&#39;, $event.target.value)&#34;</span>
  <span style="color:#f92672">&gt;</span>
<span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/label&gt;</span>
</code></pre></div><p>Vue 有一个 <code>$listeners</code> 属性来解决这个问题，<code>$listeners</code> 是一个对象，里面包含了作用在这个组件上所有的监听器，结合<code>v-on=&quot;$listeners&quot;</code>将所有监听器指向这个组件的特定子元素：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">
</code></pre></div><h1 id="使用-slots-进行内容分发">使用 slots 进行内容分发</h1><p>内容分发机制，可以构建如下组件：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">navigation-link</span> <span style="color:#a6e22e">url</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;#&#34;</span>&gt;
    Your Profile
&lt;/<span style="color:#f92672">navigation-link</span>&gt;
</code></pre></div><p>在 <code>&lt;navigation-link&gt;</code> 模板中，可以是：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">v-bind:href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;url&#34;</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;nav-link&#34;</span>&gt;
    &lt;<span style="color:#f92672">slot</span>&gt;&lt;/<span style="color:#f92672">slot</span>&gt;
&lt;/<span style="color:#f92672">a</span>&gt;
</code></pre></div><p>在组件渲染时，<code>&lt;slot&gt;</code> 元素就会被替换成 Your Profile。在 slot 位置，可以包含任何模板代码，可以是 HTML，也可以是其他组件：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">navigation-link</span> <span style="color:#a6e22e">url</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/profile&#34;</span>&gt;
    <span style="color:#75715e">&lt;!-- 使用一个组件添加一个图标 --&gt;</span>
    &lt;<span style="color:#f92672">font-awesome-icon</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;user&#34;</span>&gt;&lt;/<span style="color:#f92672">font-awesome-icon</span>&gt;
    Your Profile
&lt;/<span style="color:#f92672">navigation-link</span>&gt;
</code></pre></div><h2 id="命名-slot">命名 <code>slot</code></h2><p>可以向组件中传入多个 <code>slot</code>:</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;container&#34;</span>&gt;
    &lt;<span style="color:#f92672">header</span>&gt;
        <span style="color:#75715e">&lt;!-- 在这里我们需要 header 内容 --&gt;</span>
    &lt;/<span style="color:#f92672">header</span>&gt;
    &lt;<span style="color:#f92672">main</span>&gt;
        <span style="color:#75715e">&lt;!-- 在这里我们需要 main 内容 --&gt;</span>
    &lt;/<span style="color:#f92672">main</span>&gt;
    &lt;<span style="color:#f92672">footer</span>&gt;
        <span style="color:#75715e">&lt;!-- 在这里我们需要 footer 内容 --&gt;</span>
    &lt;/<span style="color:#f92672">footer</span>&gt;
&lt;/<span style="color:#f92672">div</span>&gt;

<span style="color:#75715e">&lt;!-- name 属性用于定义除默认 slot 以外的 slot --&gt;</span>
&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;container&#34;</span>&gt;
    &lt;<span style="color:#f92672">header</span>&gt;
        &lt;<span style="color:#f92672">slot</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;header&#34;</span>&gt;&lt;/<span style="color:#f92672">slot</span>&gt;
    &lt;/<span style="color:#f92672">header</span>&gt;
    &lt;<span style="color:#f92672">main</span>&gt;
        &lt;<span style="color:#f92672">slot</span>&gt;&lt;/<span style="color:#f92672">slot</span>&gt;
    &lt;/<span style="color:#f92672">main</span>&gt;
    &lt;<span style="color:#f92672">footer</span>&gt;
        &lt;<span style="color:#f92672">slot</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;footer&#34;</span>&gt;&lt;/<span style="color:#f92672">slot</span>&gt;
    &lt;/<span style="color:#f92672">footer</span>&gt;
&lt;/<span style="color:#f92672">div</span>&gt;
<span style="color:#75715e">&lt;!-- 或者在父组件模板的 &lt;template&gt; 元素上使用 slot 特性 --&gt;</span>
&lt;<span style="color:#f92672">base-layout</span>&gt;
    &lt;<span style="color:#f92672">template</span> <span style="color:#a6e22e">slot</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;header&#34;</span>&gt;
        &lt;<span style="color:#f92672">h1</span>&gt;这里是一个页面标题&lt;/<span style="color:#f92672">h1</span>&gt;
    &lt;/<span style="color:#f92672">template</span>&gt;

    &lt;<span style="color:#f92672">p</span>&gt;main 内容的一个段落。&lt;/<span style="color:#f92672">p</span>&gt;
    &lt;<span style="color:#f92672">p</span>&gt;main 内容的另一个段落。&lt;/<span style="color:#f92672">p</span>&gt;

    &lt;<span style="color:#f92672">template</span> <span style="color:#a6e22e">slot</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;footer&#34;</span>&gt;
        &lt;<span style="color:#f92672">p</span>&gt;这里是一些联系信息&lt;/<span style="color:#f92672">p</span>&gt;
    &lt;/<span style="color:#f92672">template</span>&gt;
&lt;/<span style="color:#f92672">base-layout</span>&gt;
<span style="color:#75715e">&lt;!-- 也可以对某个普通元素，直接使用 slot 特性 --&gt;</span>
&lt;<span style="color:#f92672">base-layout</span>&gt;
    &lt;<span style="color:#f92672">h1</span> <span style="color:#a6e22e">slot</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;header&#34;</span>&gt;这里是一个页面标题&lt;/<span style="color:#f92672">h1</span>&gt;

    &lt;<span style="color:#f92672">p</span>&gt;main 内容的一个段落。&lt;/<span style="color:#f92672">p</span>&gt;
    &lt;<span style="color:#f92672">p</span>&gt;main 内容的另一个段落。&lt;/<span style="color:#f92672">p</span>&gt;

    &lt;<span style="color:#f92672">p</span> <span style="color:#a6e22e">slot</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;footer&#34;</span>&gt;这里是一些联系信息&lt;/<span style="color:#f92672">p</span>&gt;
&lt;/<span style="color:#f92672">base-layout</span>&gt;

<span style="color:#75715e">&lt;!-- 渲染内容 --&gt;</span>
&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;container&#34;</span>&gt;
    &lt;<span style="color:#f92672">header</span>&gt;
        &lt;<span style="color:#f92672">h1</span>&gt;这里是一个页面标题&lt;/<span style="color:#f92672">h1</span>&gt;
    &lt;/<span style="color:#f92672">header</span>&gt;
    &lt;<span style="color:#f92672">main</span>&gt;
        &lt;<span style="color:#f92672">p</span>&gt;main 内容的一个段落。&lt;/<span style="color:#f92672">p</span>&gt;
        &lt;<span style="color:#f92672">p</span>&gt;main 内容的另一个段落。&lt;/<span style="color:#f92672">p</span>&gt;
    &lt;/<span style="color:#f92672">main</span>&gt;
    &lt;<span style="color:#f92672">footer</span>&gt;
        &lt;<span style="color:#f92672">p</span>&gt;这里是一些联系信息&lt;/<span style="color:#f92672">p</span>&gt;
    &lt;/<span style="color:#f92672">footer</span>&gt;
&lt;/<span style="color:#f92672">div</span>&gt;
</code></pre></div><h3 id="默认-slot-内容">默认 slot 内容</h3><p>slot 可以预先提供默认内容：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;submit&#34;</span>&gt;
    &lt;<span style="color:#f92672">slot</span>&gt;Submit&lt;/<span style="color:#f92672">slot</span>&gt;
<span style="color:#960050;background-color:#1e0010">&lt;</span>/button
</code></pre></div><p>如果父组件模板中，向 slot 位置提供了内容，子组件中默认内容就会被替换。</p><h3 id="编译时的作用域">编译时的作用域</h3><p>在 slot 内部需要访问当前作用域下的数据：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">navigation-link</span> <span style="color:#a6e22e">url</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/profile&#34;</span>&gt;
    Logged in as {{ user.name }}
&lt;/<span style="color:#f92672">navigation-link</span>&gt;
</code></pre></div><p>slot 中的内容不可以访问 <code>&lt;navigation-link&gt;</code> 组件内部的作用域。 父组件模板的内容，全部在父组件作用域内编译；字组件模板的内容，全部在子组件作用域内编译。</p><h1 id="动态组件">动态组件</h1><p>通过向 Vue 的 <code>&lt;component&gt;</code> 元素传入 <code>is</code> 特性，可以实现动态效果：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">component</span> <span style="color:#a6e22e">v-bind:is</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;currentTabComponent&#34;</span>&gt;&lt;/<span style="color:#f92672">component</span>&gt;
</code></pre></div><p>在上面的示例中， <code>currentTabComponent</code> 也可以是以下之一：</p><ul><li>已注册的注册名称</li><li>一个组件选项对象</li></ul><p>如果需要组件的实例在第一次创建后就缓存起来，可以使用 <code>&lt;keep-alive&gt;</code> 元素将动态组件包裹起来：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">keep-alive</span>&gt;
    &lt;<span style="color:#f92672">component</span> <span style="color:#a6e22e">v-bind:is</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;currentTabComponent&#34;</span>&gt;&lt;/<span style="color:#f92672">component</span>&gt;
&lt;/<span style="color:#f92672">keep-alive</span>&gt;
</code></pre></div><h2 id="异步组件">异步组件</h2><p>在大型应用程序中，可能需要将应用程序拆分为多个小的分块，并且在实际用到时，才从服务器加载某个组件。为了简化异步拉取机制，Vue将组件定义为一个工厂函数，该函数可以异步解析组件定义对象。Vue 只在真正需要渲染组件的时候，才会去触发工厂函数，并将解析后的记过缓存，用来将来再次渲染。</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">component</span>(<span style="color:#e6db74">&#39;async-example&#39;</span>, <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">resolve</span>, <span style="color:#a6e22e">reject</span>) {
    <span style="color:#a6e22e">setTimeout</span>(<span style="color:#66d9ef">function</span>() {
        <span style="color:#a6e22e">resolve</span>({<span style="color:#a6e22e">template</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&lt;div&gt;This is async&lt;/div&gt;&#39;</span>})
    }, <span style="color:#ae81ff">1000</span>)
})
</code></pre></div><p>配合 webpack 代码分离功能：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">component</span>(<span style="color:#e6db74">&#39;async-webpack-example&#39;</span>, <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">resolve</span>) {
    <span style="color:#75715e">// 这个特殊的 require 语法
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// 将指示 webpack 自动将构建后的代码，
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// 拆分到不同的 bundle 中，然后通过 Ajax 请求加载。
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">require</span>([<span style="color:#e6db74">&#39;./my-async-component&#39;</span>], <span style="color:#a6e22e">resolve</span>)
})
</code></pre></div><h1 id="dom-模板解析注意事项">DOM 模板解析注意事项</h1><p>有些 HTML 元素，例如 <code>&lt;ul&gt;</code>, <code>&lt;ol&gt;</code>, <code>&lt;table&gt;</code> 和 <code>&lt;select&gt;</code> 这些元素，会对于出现在其内部的元素有所限制；而另一些 HTML 元素，例如 <code>&lt;li&gt;</code>, <code>&lt;tr&gt;</code> 和 <code>&lt;option&gt;</code> 这些元素，只可以出现在前面那些元素的内部。</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">table</span>&gt;
    &lt;<span style="color:#f92672">blog-post</span>&gt;&lt;/<span style="color:#f92672">blog-post</span>&gt;
&lt;/<span style="color:#f92672">table</span>&gt;
</code></pre></div><p>自定义组件 <code>&lt;blog-post&gt;</code> 会被当作无效内容，提升到 <code>table</code> 元素之外，从而导致最终渲染输出后的错误。<code>is</code> 特性提供了一种解决方案：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">table</span>&gt;
&lt;<span style="color:#f92672">tr</span> <span style="color:#a6e22e">is</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;blog-post&#34;</span>&gt;&lt;/<span style="color:#f92672">tr</span>&gt;
&lt;/<span style="color:#f92672">table</span>&gt;
</code></pre></div><p>但是，以下字符串模板之一的场景中，并不适用：</p><ul><li>字符串模板 <code>template: \</code>``</li><li>单文件组件 (<code>.vue</code>)</li><li><code>&lt;script type=&quot;text/x-template&quot;&gt;&lt;/script&gt;</code></li></ul><h1 id="mixin">mixin</h1><p>mixin 是分发 Vue 组件的可复用功能的一种非常灵活的方式。每个 mixin 对象可以包含全部组件选项。当组件使用 mixin 对象时，mixin 对象中的全部选项都会被混入到组件中</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">myMixin</span> <span style="color:#f92672">=</span> {
    <span style="color:#a6e22e">created</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> () {
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">hello</span>()
    },
    <span style="color:#a6e22e">methods</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">hello</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> () {
            <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;from mixin&#39;</span>)
        }
    }
}

<span style="color:#75715e">// 定义一个使用 mixin 对象的组件
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">component</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">extend</span>({
    <span style="color:#a6e22e">mixins</span><span style="color:#f92672">:</span> [<span style="color:#a6e22e">myMixin</span>]
})

<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">component</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Component</span>() <span style="color:#75715e">// =&gt; &#34;来自 mixin 对象的 hello！&#34;
</span></code></pre></div><p>当 mixin 对象和组件自身的选项对象，在二者选项名称相同时，Vue 会选择合适的合并策略。 单个属性合并时，优先使用组件的 data; 具有相同名称的钩子函数，将合并到一个数组中，最终它们会被依次调用。此外，需要注意，mixin 对象中的同名钩子函数，会在组件自身的钩子函数之前调用。</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">mixin</span> <span style="color:#f92672">=</span> {
    <span style="color:#a6e22e">created</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> () {
        <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;mixin 对象的钩子函数被调用&#39;</span>)
    },
    <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> () {
        <span style="color:#66d9ef">return</span> {
        <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;hello&#39;</span>,
        <span style="color:#a6e22e">foo</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;abc&#39;</span>
        }
    }
}

<span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Vue</span>({
    <span style="color:#a6e22e">mixins</span><span style="color:#f92672">:</span> [<span style="color:#a6e22e">mixin</span>],
    <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> () {
        <span style="color:#66d9ef">return</span> {
        <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;goodbye&#39;</span>,
        <span style="color:#a6e22e">bar</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;def&#39;</span>
        }
    },
    <span style="color:#a6e22e">created</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> () {
        <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;组件的钩子函数被调用&#39;</span>)
    }
})
</code></pre></div><h1 id="自定义指令">自定义指令</h1><p>除了核心功能默认内置的指令（<code>v-model</code> 和 <code>v-show</code>），Vue 也允许注册自定义指令。 如果要在页面加载时，某元素获得焦点（移动端 Safari 上 <code>autofocus</code> 不生效）。现在用指令来实现这个功能：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">// 注册一个全局自定义指令 `v-focus`
</span><span style="color:#75715e"></span><span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">directive</span>(<span style="color:#e6db74">&#39;focus&#39;</span>, {
    <span style="color:#75715e">// 当被绑定的元素插入到 DOM 中时……
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">inserted</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">el</span>) {
        <span style="color:#75715e">// 聚焦元素
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">el</span>.<span style="color:#a6e22e">focus</span>()
    }
})

<span style="color:#75715e">// 组件中注册局部指令
</span><span style="color:#75715e"></span> <span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">component</span>(<span style="color:#e6db74">&#34;nav-link&#34;</span>, {
    <span style="color:#a6e22e">directives</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">focus</span><span style="color:#f92672">:</span> {
            <span style="color:#75715e">// 指令的定义
</span><span style="color:#75715e"></span>            <span style="color:#a6e22e">inserted</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">el</span>) {
            <span style="color:#a6e22e">el</span>.<span style="color:#a6e22e">focus</span>()
            }
        }
    },
    <span style="color:#a6e22e">template</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`&lt;input v-focus type=&#34;text&#34;/&gt;`</span>
})
</code></pre></div><h2 id="钩子函数">钩子函数</h2><p>可以为一个自定义指令提供如下钩子函数：</p><ul><li><code>bind</code>: 只在指令第一次绑定到元素时调用</li><li><code>inserted</code>: 被绑定元素插入父节点时调用</li><li><code>update</code>: 所在组件的VNode 更新时调用</li><li><code>componentUpdated</code>: 指令所在组件的 VNode 全部更新后调用</li><li><code>unbind</code>: 在指令与元素解绑时调用</li></ul><p>指令钩子函数会被传入以下参数：</p><ul><li><code>el</code>: 指令绑定的元素，可以直接操作 DOM</li><li><code>binding</code>: 一个对象，包含如下属性：<ul><li><code>name</code>: 指令名，不包含 <code>v-</code> 前缀</li><li><code>value</code>: 指令绑定的值</li><li><code>oldValue</code>: 指令绑定的前一个值，仅在 <code>update</code> 和 <code>componentUpdated</code> 钩子函数中可用</li><li><code>expression</code>: 字符串形式的指令表达式。例如 <code>v-my-directive=&quot;1 + 1&quot;</code> 中，表达式为 <code>&quot;1 + 1&quot;</code>。</li><li><code>arg</code>: 传给指令的参数，可选。例如：<code>v-directive:foo</code> 中的 <code>foo</code></li></ul></li><li><code>vnode</code>: Vue 编译生成的虚拟节点</li></ul><blockquote><p>除了 <code>el</code> 之外，其他参数都应该是只读的，切勿修改</p></blockquote><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;hook-arguments-example&#34;</span> <span style="color:#a6e22e">v-demo:foo</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">a</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">b</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;message&#34;</span>&gt;&lt;/<span style="color:#f92672">div</span>&gt;
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Vue</span>({
    <span style="color:#a6e22e">el</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;#hook-arguments-example&#39;</span>,
    <span style="color:#a6e22e">directives</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">demo</span><span style="color:#f92672">:</span> {
            <span style="color:#a6e22e">bind</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">el</span>, <span style="color:#a6e22e">binding</span>, <span style="color:#a6e22e">vnode</span>) {
                <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">s</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>
                <span style="color:#a6e22e">el</span>.<span style="color:#a6e22e">innerHTML</span> <span style="color:#f92672">=</span>
                <span style="color:#e6db74">&#39;name: &#39;</span>       <span style="color:#f92672">+</span> <span style="color:#a6e22e">s</span>(<span style="color:#a6e22e">binding</span>.<span style="color:#a6e22e">name</span>) <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;&lt;br&gt;&#39;</span> <span style="color:#f92672">+</span>
                <span style="color:#e6db74">&#39;value: &#39;</span>      <span style="color:#f92672">+</span> <span style="color:#a6e22e">s</span>(<span style="color:#a6e22e">binding</span>.<span style="color:#a6e22e">value</span>) <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;&lt;br&gt;&#39;</span> <span style="color:#f92672">+</span>
                <span style="color:#e6db74">&#39;expression: &#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">s</span>(<span style="color:#a6e22e">binding</span>.<span style="color:#a6e22e">expression</span>) <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;&lt;br&gt;&#39;</span> <span style="color:#f92672">+</span>
                <span style="color:#e6db74">&#39;argument: &#39;</span>   <span style="color:#f92672">+</span> <span style="color:#a6e22e">s</span>(<span style="color:#a6e22e">binding</span>.<span style="color:#a6e22e">arg</span>) <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;&lt;br&gt;&#39;</span> <span style="color:#f92672">+</span>
                <span style="color:#e6db74">&#39;modifiers: &#39;</span>  <span style="color:#f92672">+</span> <span style="color:#a6e22e">s</span>(<span style="color:#a6e22e">binding</span>.<span style="color:#a6e22e">modifiers</span>) <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;&lt;br&gt;&#39;</span> <span style="color:#f92672">+</span>
                <span style="color:#e6db74">&#39;vnode keys: &#39;</span> <span style="color:#f92672">+</span> Object.<span style="color:#a6e22e">keys</span>(<span style="color:#a6e22e">vnode</span>).<span style="color:#a6e22e">join</span>(<span style="color:#e6db74">&#39;, &#39;</span>)
            }
        }
    },
    <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;hello!&#39;</span>
    }
})
</code></pre></div><h1 id="渲染函数">渲染函数</h1><p>template 创建 HTML 在大多数情况下是适用的。但是有些情况下，需要 JavaScript 的完全编程能力，这时候可以使用 <code>render</code> 函数。</p><p>在 HTML 层，我们定义组件接口：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">anchored-heading</span> <span style="color:#a6e22e">:level</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;1&#34;</span>&gt;Hello world!&lt;/<span style="color:#f92672">anchored-heading</span>&gt;
</code></pre></div><p>当有一个通过 <code>level</code> 属性动态生成 heading 标签的组件时：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text/x-template&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;anchored-heading-template&#34;</span>&gt;
    <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">h1</span> <span style="color:#a6e22e">v</span><span style="color:#f92672">-</span><span style="color:#66d9ef">if</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;level === 1&#34;</span><span style="color:#f92672">&gt;</span>
        <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">slot</span><span style="color:#f92672">&gt;&lt;</span><span style="color:#960050;background-color:#1e0010">/slot&gt;</span>
    <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/h1&gt;</span>
    <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">h2</span> <span style="color:#a6e22e">v</span><span style="color:#f92672">-</span><span style="color:#66d9ef">else</span><span style="color:#f92672">-</span><span style="color:#66d9ef">if</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;level === 2&#34;</span><span style="color:#f92672">&gt;</span>
        <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">slot</span><span style="color:#f92672">&gt;&lt;</span><span style="color:#960050;background-color:#1e0010">/slot&gt;</span>
    <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/h2&gt;</span>
    <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">h3</span> <span style="color:#a6e22e">v</span><span style="color:#f92672">-</span><span style="color:#66d9ef">else</span><span style="color:#f92672">-</span><span style="color:#66d9ef">if</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;level === 3&#34;</span><span style="color:#f92672">&gt;</span>
        <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">slot</span><span style="color:#f92672">&gt;&lt;</span><span style="color:#960050;background-color:#1e0010">/slot&gt;</span>
    <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/h3&gt;</span>
    <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">h4</span> <span style="color:#a6e22e">v</span><span style="color:#f92672">-</span><span style="color:#66d9ef">else</span><span style="color:#f92672">-</span><span style="color:#66d9ef">if</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;level === 4&#34;</span><span style="color:#f92672">&gt;</span>
        <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">slot</span><span style="color:#f92672">&gt;&lt;</span><span style="color:#960050;background-color:#1e0010">/slot&gt;</span>
    <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/h4&gt;</span>
    <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">h5</span> <span style="color:#a6e22e">v</span><span style="color:#f92672">-</span><span style="color:#66d9ef">else</span><span style="color:#f92672">-</span><span style="color:#66d9ef">if</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;level === 5&#34;</span><span style="color:#f92672">&gt;</span>
        <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">slot</span><span style="color:#f92672">&gt;&lt;</span><span style="color:#960050;background-color:#1e0010">/slot&gt;</span>
    <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/h5&gt;</span>
    <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">h6</span> <span style="color:#a6e22e">v</span><span style="color:#f92672">-</span><span style="color:#66d9ef">else</span><span style="color:#f92672">-</span><span style="color:#66d9ef">if</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;level === 6&#34;</span><span style="color:#f92672">&gt;</span>
        <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">slot</span><span style="color:#f92672">&gt;&lt;</span><span style="color:#960050;background-color:#1e0010">/slot&gt;</span>
    <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/h6&gt;</span>
&lt;/<span style="color:#f92672">script</span>&gt;
&lt;<span style="color:#f92672">script</span>&gt;
    <span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">component</span>(<span style="color:#e6db74">&#39;anchored-heading&#39;</span>, {
        <span style="color:#a6e22e">template</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;#anchored-heading-template&#39;</span>,
        <span style="color:#a6e22e">props</span><span style="color:#f92672">:</span> {
            <span style="color:#a6e22e">level</span><span style="color:#f92672">:</span> {
            <span style="color:#a6e22e">type</span><span style="color:#f92672">:</span> Number,
            <span style="color:#a6e22e">required</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>
            }
        }
    })
&lt;/<span style="color:#f92672">script</span>&gt;
</code></pre></div><p>可以看到，这种场景中使用 <code>template</code> 并不是很好的选择，不但代码冗长，而且需要重复使用 <code>&lt;slot&gt;&lt;/slot&gt;</code>.</p><p>可以尝试使用 <code>render</code> 函数重写该例：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"> <span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">component</span>(<span style="color:#e6db74">&#39;anchored-heading&#39;</span>, {
    <span style="color:#a6e22e">render</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">createElement</span>) {
        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">createElement</span>( 
            <span style="color:#e6db74">`h</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">level</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>,   <span style="color:#75715e">// tag name 标签名称
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$slots</span>.<span style="color:#66d9ef">default</span>  <span style="color:#75715e">// 子组件中的阵列
</span><span style="color:#75715e"></span>        )
    },
    <span style="color:#a6e22e">props</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">level</span><span style="color:#f92672">:</span> {
            <span style="color:#a6e22e">type</span><span style="color:#f92672">:</span> Number,
            <span style="color:#a6e22e">required</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>
        }
    }
})
</code></pre></div><h2 id="createelement"><code>createElement</code></h2><p><code>createElement</code> 函数返回的是一个虚拟的DOM，其接受的参数如下：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">// @returns {VNode}
</span><span style="color:#75715e"></span><span style="color:#a6e22e">createElement</span>(
    <span style="color:#75715e">// {String | Object | Function}
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// 一个 HTML 标签字符串，组件选项对象，或者
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// 解析上述任何一种的一个 async 异步函数，必要参数。
</span><span style="color:#75715e"></span>    <span style="color:#e6db74">&#39;div&#39;</span>,

    <span style="color:#75715e">// {Object}
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// 一个包含模板相关属性的数据对象
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// 这样，您可以在 template 中使用这些属性。可选参数。
</span><span style="color:#75715e"></span>    {
        
    },

    <span style="color:#75715e">// {String | Array}
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// 子节点 (VNodes)，由 `createElement()` 构建而成，
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// 或使用字符串来生成“文本节点”。可选参数。
</span><span style="color:#75715e"></span>    [
        <span style="color:#e6db74">&#39;先写一些文字&#39;</span>,
        <span style="color:#a6e22e">createElement</span>(<span style="color:#e6db74">&#39;h1&#39;</span>, <span style="color:#e6db74">&#39;一则头条&#39;</span>),
        <span style="color:#a6e22e">createElement</span>(<span style="color:#a6e22e">MyComponent</span>, {
            <span style="color:#a6e22e">props</span><span style="color:#f92672">:</span> {
                <span style="color:#a6e22e">someProp</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;foobar&#39;</span>
            }
        })
    ]
)
</code></pre></div><h2 id="深入-data-对象">深入 <code>data</code> 对象</h2><p><code>createElement</code> 中的数据对象可以是如下内容：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">{
    <span style="color:#75715e">// 和`v-bind:class`一样的 API
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// 接收一个字符串、对象或字符串和对象组成的数组
</span><span style="color:#75715e"></span>    <span style="color:#e6db74">&#39;class&#39;</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">foo</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>,
        <span style="color:#a6e22e">bar</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>
    },
    <span style="color:#75715e">// 和`v-bind:style`一样的 API
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// 接收一个字符串、对象或对象组成的数组
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">style</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">color</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;red&#39;</span>,
        <span style="color:#a6e22e">fontSize</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;14px&#39;</span>
    },
    <span style="color:#75715e">// 正常的 HTML 特性
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">attrs</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">id</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;foo&#39;</span>
    },
    <span style="color:#75715e">// 组件 props
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">props</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">myProp</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;bar&#39;</span>
    },
    <span style="color:#75715e">// DOM 属性
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">domProps</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">innerHTML</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;baz&#39;</span>
    },
    <span style="color:#75715e">// 事件监听器基于 `on`
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// 所以不再支持如 `v-on:keyup.enter` 修饰器
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// 需要手动匹配 keyCode。
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">on</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">click</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">clickHandler</span>
    },
    <span style="color:#75715e">// 仅对于组件，用于监听原生事件，而不是组件内部使用
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// `vm.$emit` 触发的事件。
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">nativeOn</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">click</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">nativeClickHandler</span>
    },
    <span style="color:#75715e">// 自定义指令。注意，你无法对 `binding` 中的 `oldValue`
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// 赋值，因为 Vue 已经自动为你进行了同步。
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">directives</span><span style="color:#f92672">:</span> [
        {
        <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;my-custom-directive&#39;</span>,
        <span style="color:#a6e22e">value</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;2&#39;</span>,
        <span style="color:#a6e22e">expression</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;1 + 1&#39;</span>,
        <span style="color:#a6e22e">arg</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;foo&#39;</span>,
        <span style="color:#a6e22e">modifiers</span><span style="color:#f92672">:</span> {
            <span style="color:#a6e22e">bar</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>
        }
        }
    ],
    <span style="color:#75715e">// 作用域插槽格式
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// { name: props =&gt; VNode | Array&lt;VNode&gt; }
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">scopedSlots</span><span style="color:#f92672">:</span> {
        <span style="color:#66d9ef">default</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">props</span> =&gt; <span style="color:#a6e22e">createElement</span>(<span style="color:#e6db74">&#39;span&#39;</span>, <span style="color:#a6e22e">props</span>.<span style="color:#a6e22e">text</span>)
    },
    <span style="color:#75715e">// 如果组件是其他组件的子组件，需为插槽指定名称
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">slot</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;name-of-slot&#39;</span>,
    <span style="color:#75715e">// 其他特殊顶层属性
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">key</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;myKey&#39;</span>,
    <span style="color:#a6e22e">ref</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;myRef&#39;</span>
}
</code></pre></div><p>示例如下：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">component</span>(<span style="color:#e6db74">&#39;anchored-heading&#39;</span>, {
    <span style="color:#a6e22e">render</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">createElement</span>) {
        <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">headingId</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">getChildrenTextContent</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$slots</span>.<span style="color:#66d9ef">default</span>)
            .<span style="color:#a6e22e">toLowerCase</span>().<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/\W+/g</span>, <span style="color:#e6db74">&#39;-&#39;</span>).<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/(^\-|\-$)/g</span>, <span style="color:#e6db74">&#39;&#39;</span>);
        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">createElement</span>(
            <span style="color:#e6db74">&#39;h&#39;</span> <span style="color:#f92672">+</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">level</span>,
            [
                <span style="color:#a6e22e">createElement</span>(<span style="color:#e6db74">&#39;a&#39;</span>, {
                    <span style="color:#a6e22e">attrs</span><span style="color:#f92672">:</span> {
                        <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">headingId</span>,
                        <span style="color:#a6e22e">href</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;#&#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">headingId</span>
                    }
                }, <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$slots</span>.<span style="color:#66d9ef">default</span>),
                <span style="color:#a6e22e">createElement</span>(<span style="color:#e6db74">&#39;p&#39;</span>, {
                    <span style="color:#e6db74">&#39;class&#39;</span><span style="color:#f92672">:</span> {
                        <span style="color:#a6e22e">clamp</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>
                    },
                    <span style="color:#a6e22e">style</span><span style="color:#f92672">:</span> {
                        <span style="color:#e6db74">&#39;line-height&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;200px&#39;</span>
                    },
                    <span style="color:#a6e22e">on</span><span style="color:#f92672">:</span> {
                        <span style="color:#a6e22e">click</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> () {<span style="color:#a6e22e">alert</span>(<span style="color:#e6db74">&#39;click&#39;</span>)}
                    }
                }, <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$slots</span>.<span style="color:#66d9ef">default</span>)
            ]
        )
    },
    <span style="color:#a6e22e">props</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">level</span><span style="color:#f92672">:</span> {
            <span style="color:#a6e22e">type</span><span style="color:#f92672">:</span> Number, 
            <span style="color:#a6e22e">required</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>
        }
    }
})
</code></pre></div><h2 id="v-model"><code>v-model</code></h2><p>render 函数中没有与 <code>v-model</code> 相应的 api，必须自己实现相应的逻辑：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">props</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#39;value&#39;</span>],
<span style="color:#a6e22e">render</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">createElement</span>) {
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">self</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">createElement</span>(<span style="color:#e6db74">&#39;input&#39;</span>, {
        <span style="color:#a6e22e">domProps</span><span style="color:#f92672">:</span> {
            <span style="color:#a6e22e">value</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">self</span>.<span style="color:#a6e22e">value</span>
        },
        <span style="color:#a6e22e">on</span><span style="color:#f92672">:</span> {
            <span style="color:#a6e22e">input</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">event</span>) {
                <span style="color:#a6e22e">self</span>.<span style="color:#a6e22e">$emit</span>(<span style="color:#e6db74">&#39;input&#39;</span>, <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">target</span>.<span style="color:#a6e22e">value</span>)
            }
        }
    })
}
</code></pre></div><h2 id="事件和按键修饰符">事件和按键修饰符</h2><table><thead><tr><th align="left">修饰符</th><th align="left">前缀</th></tr></thead><tbody><tr><td align="left"><code>.passive</code></td><td align="left"><code>&amp;</code></td></tr><tr><td align="left"><code>.capture</code></td><td align="left"><code>!</code></td></tr><tr><td align="left"><code>.once</code></td><td align="left"><code>~</code></td></tr><tr><td align="left"><code>.capture.once</code> or <code>.once.capture</code></td><td align="left"><code>~!</code></td></tr></tbody></table><p>例如：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">on</span><span style="color:#f92672">:</span> {
    <span style="color:#e6db74">&#39;!click&#39;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">doClick</span>,
    <span style="color:#e6db74">&#39;~keyup&#39;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">doThisOnce</span>,
    <span style="color:#e6db74">&#39;~!mouseover&#39;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">doMouseOver</span>
}
</code></pre></div><h2 id="函数式组件">函数式组件</h2><p>函数式组件是指那些无状态，没有 <code>this</code> 上下文的组件，标记为 <code>functional</code>：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">component</span>(<span style="color:#e6db74">&#39;my-component&#39;</span>, {
    <span style="color:#a6e22e">functional</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>,
    <span style="color:#75715e">// Props 可选
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">props</span><span style="color:#f92672">:</span> {
        <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>    },
    <span style="color:#75715e">// 为了弥补缺少的实例
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// 提供第二个参数作为上下文
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">render</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">createElement</span>, <span style="color:#a6e22e">context</span>) {
        <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>    }
})
</code></pre></div><h1 id="插件">插件</h1><p>插件通常会为 Vue 添加全局功能。插件的范围没有限制，一般有如下几种：</p><ol><li>添加全局方法或者属性，如 <a href="https://github.com/karol-f/vue-custom-element">vue-custom-element</a></li><li>添加全局资源：指令、过滤器、过渡等，如 <a href="https://github.com/vuejs/vue-touch">vue-touch</a></li><li>通过全局 <code>mixin</code> 方法添加一些组件选项，如 <a href="https://github.com/vuejs/vue-router">vue-router</a></li><li>添加 Vue 实例方法，如添加 <code>Vue.prototype</code> 上</li><li>一个库，提供自己的API，如 <a href="https://github.com/vuejs/vue-router">vue-router</a></li></ol><p>Vue.js 的插件应该有一个公共方法 <code>install</code>。该方法的第一个参数是 <code>Vue</code> 构造器，第二个参数是一个可选选项：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">MyPlugin</span>.<span style="color:#a6e22e">install</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">Vue</span>, <span style="color:#a6e22e">options</span>) {
    <span style="color:#75715e">// 1. 添加全局方法或属性
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">myGlobalMethod</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> () {
        <span style="color:#75715e">// 逻辑...
</span><span style="color:#75715e"></span>    }

    <span style="color:#75715e">// 2. 添加全局资源
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">directive</span>(<span style="color:#e6db74">&#39;my-directive&#39;</span>, {
        <span style="color:#a6e22e">bind</span> (<span style="color:#a6e22e">el</span>, <span style="color:#a6e22e">binding</span>, <span style="color:#a6e22e">vnode</span>, <span style="color:#a6e22e">oldVnode</span>) {
        <span style="color:#75715e">// 逻辑...
</span><span style="color:#75715e"></span>        }
        ...
    })

    <span style="color:#75715e">// 3. 注入组件
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">mixin</span>({
        <span style="color:#a6e22e">created</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> () {
        <span style="color:#75715e">// 逻辑...
</span><span style="color:#75715e"></span>        }
        ...
    })

    <span style="color:#75715e">// 4. 添加实例方法
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">$myMethod</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">methodOptions</span>) {
        <span style="color:#75715e">// 逻辑...
</span><span style="color:#75715e"></span>    }
}
</code></pre></div><p>通过全局方法 <code>Vue.use()</code> 来使用插件：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">MyPlugin</span>)
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">MyPlugin</span>, { <span style="color:#a6e22e">someOption</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span> })
</code></pre></div><p><a href="https://github.com/vuejs/awesome-vue#components--libraries">awesome-vue</a> 中有很多优秀的插件和库</p><h1 id="过滤器">过滤器</h1><p>Vue 可以自定义过滤器，过滤器可以用在两个地方：双括号插值和 <code>v-bind</code> 表达式。过滤器应该添加到 JavaScript 表达式尾部。</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!-- 在双花括号中 --&gt;</span>
{{ message | capitalize }}

<span style="color:#75715e">&lt;!-- 在 `v-bind` 中 --&gt;</span>
&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">v-bind:id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;rawId | formatId&#34;</span>&gt;&lt;/<span style="color:#f92672">div</span>&gt;
</code></pre></div><p>可以在一个组件的选项中定义本地的过滤器：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">filters</span><span style="color:#f92672">:</span> {
    <span style="color:#a6e22e">capitalize</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">value</span>) {
        <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">value</span>) <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;&#39;</span>
        <span style="color:#a6e22e">value</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">value</span>.<span style="color:#a6e22e">toString</span>()
        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">value</span>.<span style="color:#a6e22e">charAt</span>(<span style="color:#ae81ff">0</span>).<span style="color:#a6e22e">toUpperCase</span>() <span style="color:#f92672">+</span> <span style="color:#a6e22e">value</span>.<span style="color:#a6e22e">slice</span>(<span style="color:#ae81ff">1</span>)
    }
}
</code></pre></div><p>也可以在创建 Vue 实例之前定义全局过滤器：</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">filter</span>(<span style="color:#e6db74">&#39;capitalize&#39;</span>, <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">value</span>) {
    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">value</span>) <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;&#39;</span>
    <span style="color:#a6e22e">value</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">value</span>.<span style="color:#a6e22e">toString</span>()
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">value</span>.<span style="color:#a6e22e">charAt</span>(<span style="color:#ae81ff">0</span>).<span style="color:#a6e22e">toUpperCase</span>() <span style="color:#f92672">+</span> <span style="color:#a6e22e">value</span>.<span style="color:#a6e22e">slice</span>(<span style="color:#ae81ff">1</span>)
})

<span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Vue</span>({
    <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>})
</code></pre></div><p>当然我们也可以将过滤器串联使用：</p><pre><code>{{ message | filterA | filterB }}
</code></pre></article></div><div class="card-action"><i class="material-icons">local_offer</i> <a class="tag" href="https://wzhongke.github.io//tags/javascript">#javascript</a>&nbsp;</div><div class="card-action"><div class="comments"><div id="disqus_thread"></div></div><script type="text/javascript">var disqus_shortname = 'wzhongke';

     
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript></div></div><div class="pagination-single"><span class="pagination-item previous"><i class="material-icons">navigate_before</i> <a href="https://wzhongke.github.io/post/python/python3-%E5%AE%89%E8%A3%85protobuf%E6%A8%A1%E5%9D%97/" rel="prev">python3 安装protobuf模块</a> </span><span class="pagination-item next"><i class="material-icons">navigate_next</i> <a href="https://wzhongke.github.io/post/linux/linux-%E5%BF%98%E8%AE%B0root%E5%AF%86%E7%A0%81/" rel="next">linux 忘记root密码</a></span></div></div></section></div></section><footer class="page-footer"><div class="container"><div class="row"><div class="col l6 s12"><h5 class="white-text">World of Wang</h5><p class="grey-text text-lighten-4">Theme <a href="https://github.com/stkevintan/hugo-YAMT-theme" target="_blank">YAMT</a> designed by <a href="https://github.com/stkevintan" target="_blank">Kevin Tan</a> with ❤</p></div><div class="col l4 offset-l2 s12"><h5 class="white-text">My Friends</h5><ul><li><a class="grey-text text-lighten-3" href="https://frantic1048.logdown.com/" target="_blank">Frantic1048</a></li></ul></div></div></div><div class="footer-copyright"><div class="container">Copyright@Kevin Tan</div></div></footer></main><script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script type="text/javascript" src="//dlweb.sogoucdn.com/common/lib/jquery/jquery-1.11.0.min.js"></script><script type="text/javascript" src="//cdn.bootcss.com/lunr.js/2.1.2/lunr.min.js"></script><script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [['$','$'], ['\\(','\\)']]
      }
    });</script><script type="text/javascript" src="https://wzhongke.github.io//js/materialize.min.js"></script><script type="text/javascript" src="https://wzhongke.github.io//js/index-1c463e212c.js"></script><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-9350854994277981",
        enable_page_level_ads: true
    });</script></body></html>