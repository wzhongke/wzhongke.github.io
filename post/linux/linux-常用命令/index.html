<!DOCTYPE html><html lang="zh-cn"><head><meta charset="UTF-8"><title>linux 常用命令 | World of Wang</title><meta name="viewport" content="width=device-width,user-scalable=no,maximum-scale=1,initial-scale=1"><link rel="canonical" href="https://wzhongke.github.io/post/linux/linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"><link href="//cdn.bootcss.com/highlight.js/9.12.0/styles/ocean.min.css" rel="stylesheet"><link rel="stylesheet" href="https://wzhongke.github.io//css/index-0876bf4ac8.css"><link href="https://wzhongke.github.io/index.xml" rel="alternate" type="application/rss+xml" title="World of Wang"><link href="https://wzhongke.github.io/index.xml" rel="feed" type="application/rss+xml" title="World of Wang"><link href="https://wzhongke.github.io//favicon.ico" rel="shortcut icon"><script>window.origin = "https://wzhongke.github.io/";
    
    var outer = document.createElement('div');
    outer.style.cssText = "visibility:hidden;width:100%;overflow:scroll";
    document.documentElement.appendChild(outer);
    window.scrollWidth = outer.offsetWidth - outer.clientWidth;
    document.documentElement.removeChild(outer);</script></head><body><div id="modal-search" class="modal"><div class="modal-content"><form><div class="row"><div class="input-field col s12"><input id="in-search" type="text" required aria-required="true"> <label for="in-search">Search</label></div></div></form><div class="out-wrapper row"><div id="out-search" class="collection col s12"></div></div></div></div><div class="navbar-fixed"><nav class="navbar"><div class="nav-wrapper container"><a href="javascript:void(0)" class="button-collapse"><i class="material-icons">menu</i></a> <a href="https://wzhongke.github.io/" class="brand-logo"><i class="material-icons">restaurant_menu</i> World of Wang</a><ul class="right hide-on-small-and-down"><li><a class="modal-trigger" href="#modal-search"><i class="material-icons">search</i></a></li><li><a href="https://wzhongke.github.io/index.xml" target="_blank"><i class="material-icons">rss_feed</i></a></li></ul><ul class="center tabs tabs-transparent hide-on-med-and-down"><li class="tab"><a href="https://wzhongke.github.io//" class="">Home</a></li><li class="tab"><a href="https://wzhongke.github.io//archive/" class="">Archive</a></li><li class="tab"><a href="https://wzhongke.github.io//about/" class="">About</a></li><li class="tab"><a href="https://wzhongke.github.io//post/%E7%A2%B0%E5%88%B0%E8%BF%87%E7%9A%84%E9%97%AE%E9%A2%98/" class="">碰到过的问题</a></li></ul></div></nav></div><aside class="side-panel"><div class="inner"><div class="profile"><div class="profile__bg" style="background-image:url('https://wzhongke.github.io//img/profile-bg-7c6e6a1672.jpg')"></div><img class="profile__avatar" src="https://wzhongke.github.io//img/sign-d1f802b4e8.jpg" alt="avatar"><h3 class="profile__name">壹冶知秋</h3><p class="profile__desc">Do not ride on fear...</p></div><ul class="nav-group show-on-medium-and-down menu"><li><a class="collapsible-header waves-effect waves-indigo" href="https://wzhongke.github.io//"><i class="material-icons">home</i> <span class="content">Home</span> <i class="material-icons">chevron_right</i></a></li><li><a class="collapsible-header waves-effect waves-indigo" href="https://wzhongke.github.io//archive/"><i class="material-icons">archive</i> <span class="content">Archive</span> <i class="material-icons">chevron_right</i></a></li><li><a class="collapsible-header waves-effect waves-indigo" href="https://wzhongke.github.io//about/"><i class="material-icons">person</i> <span class="content">About</span> <i class="material-icons">chevron_right</i></a></li><li><a class="collapsible-header waves-effect waves-indigo" href="https://wzhongke.github.io//post/%E7%A2%B0%E5%88%B0%E8%BF%87%E7%9A%84%E9%97%AE%E9%A2%98/"><i class="material-icons">bookmark</i> <span class="content">碰到过的问题</span> <i class="material-icons">chevron_right</i></a></li></ul><ul class="nav-group show-on-small tools"><li><a class="collapsible-header waves-effect waves-indigo modal-trigger" href="#modal-search"><i class="material-icons">search</i> <span class="content">Search</span> <i class="material-icons">chevron_right</i></a></li><li><a class="collapsible-header waves-effect waves-indigo" target="_blank" href="https://wzhongke.github.io/index.xml"><i class="material-icons">rss_feed</i> <span class="content">RSS Feed</span> <i class="material-icons">chevron_right</i></a></li></ul><ul class="collapsible nav-group" data-collapsible="accordion"><li><div class="collapsible-header waves-effect waves-indigo"><i class="material-icons">whatshot</i> <span class="content">Latest</span> <i class="material-icons angle">expand_more</i></div><div class="collapsible-body"><div class="collection"><a class="collection-item" href="https://wzhongke.github.io/post/front/es6/">es6</a> <a class="collection-item" href="https://wzhongke.github.io/post/front/webpack/">webpack</a> <a class="collection-item" href="https://wzhongke.github.io/post/algorithms/%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8C%B9%E9%85%8D%E7%AE%97%E6%B3%95/">字符串匹配算法</a> <a class="collection-item" href="https://wzhongke.github.io/post/front/nodejs/">nodejs 学习笔记</a> <a class="collection-item" href="https://wzhongke.github.io/post/front/css-%E6%80%BB%E7%BB%93/">css使用方式总结</a> <a class="collection-item" href="https://wzhongke.github.io/post/java/springlearn/">spring 学习笔记</a> <a class="collection-item" href="https://wzhongke.github.io/post/algorithms/%E6%A0%91/">树算法</a> <a class="collection-item" href="https://wzhongke.github.io/post/linux/make%E5%AE%89%E8%A3%85httpd/">linux编译安装httpd</a> <a class="collection-item" href="https://wzhongke.github.io/post/mathjax/">mathjax 符号说明</a> <a class="collection-item" href="https://wzhongke.github.io/post/hugo-markdown%E4%B8%AD%E4%BD%BF%E7%94%A8javascript/">hugo markdown 中使用javascript</a></div></div></li><li><div class="collapsible-header waves-effect waves-indigo"><i class="material-icons"><i class="material-icons">class</i></i> <span class="content">Category </span><i class="material-icons angle">expand_more</i></div><div class="collapsible-body"><div class="collection"><a class="collection-item" href="https://wzhongke.github.io//categories/java">java<span class="badge">10</span></a> <a class="collection-item" href="https://wzhongke.github.io//categories/linux">linux<span class="badge">9</span></a> <a class="collection-item" href="https://wzhongke.github.io//categories/javascript">javascript<span class="badge">7</span></a> <a class="collection-item" href="https://wzhongke.github.io//categories/%E7%AE%97%E6%B3%95">算法<span class="badge">7</span></a> <a class="collection-item" href="https://wzhongke.github.io//categories/python">python<span class="badge">5</span></a> <a class="collection-item" href="https://wzhongke.github.io//categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F">设计模式<span class="badge">5</span></a> <a class="collection-item" href="https://wzhongke.github.io//categories/other">other<span class="badge">4</span></a> <a class="collection-item" href="https://wzhongke.github.io//categories/%E5%B7%A5%E5%85%B7">工具<span class="badge">3</span></a> <a class="collection-item" href="https://wzhongke.github.io//categories/mysql">mysql<span class="badge">2</span></a> <a class="collection-item" href="https://wzhongke.github.io//categories/css">css<span class="badge">1</span></a> <a class="collection-item" href="https://wzhongke.github.io//categories/error">error<span class="badge">1</span></a> <a class="collection-item" href="https://wzhongke.github.io//categories/markdown">markdown<span class="badge">1</span></a> <a class="collection-item" href="https://wzhongke.github.io//categories/nodejs">nodejs<span class="badge">1</span></a> <a class="collection-item" href="https://wzhongke.github.io//categories/sql">sql<span class="badge">1</span></a> <a class="collection-item" href="https://wzhongke.github.io//categories/svg">svg<span class="badge">1</span></a> <a class="collection-item" href="https://wzhongke.github.io//categories/vue">vue<span class="badge">1</span></a> <a class="collection-item" href="https://wzhongke.github.io//categories/%E6%97%85%E8%A1%8C">旅行<span class="badge">1</span></a> <a class="collection-item" href="https://wzhongke.github.io//categories/%E7%BC%96%E7%A8%8B">编程<span class="badge">1</span></a></div></div></li><li><div class="collapsible-header waves-effect waves-indigo"><i class="material-icons"><i class="material-icons">local_offer</i></i> <span class="content">Tag </span><i class="material-icons angle">expand_more</i></div><div class="collapsible-body"><div class="collection"><a class="collection-item" href="https://wzhongke.github.io//tags/java">java<span class="badge">10</span></a> <a class="collection-item" href="https://wzhongke.github.io//tags/linux">linux<span class="badge">9</span></a> <a class="collection-item" href="https://wzhongke.github.io//tags/javascript">javascript<span class="badge">7</span></a> <a class="collection-item" href="https://wzhongke.github.io//tags/%E7%AE%97%E6%B3%95">算法<span class="badge">6</span></a> <a class="collection-item" href="https://wzhongke.github.io//tags/python">python<span class="badge">5</span></a> <a class="collection-item" href="https://wzhongke.github.io//tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F">设计模式<span class="badge">5</span></a> <a class="collection-item" href="https://wzhongke.github.io//tags/other">other<span class="badge">4</span></a> <a class="collection-item" href="https://wzhongke.github.io//tags/%E5%B7%A5%E5%85%B7">工具<span class="badge">3</span></a> <a class="collection-item" href="https://wzhongke.github.io//tags/markdown">markdown<span class="badge">2</span></a> <a class="collection-item" href="https://wzhongke.github.io//tags/mysql">mysql<span class="badge">2</span></a> <a class="collection-item" href="https://wzhongke.github.io//tags/css">css<span class="badge">1</span></a> <a class="collection-item" href="https://wzhongke.github.io//tags/error">error<span class="badge">1</span></a> <a class="collection-item" href="https://wzhongke.github.io//tags/nodejs">nodejs<span class="badge">1</span></a> <a class="collection-item" href="https://wzhongke.github.io//tags/sql">sql<span class="badge">1</span></a> <a class="collection-item" href="https://wzhongke.github.io//tags/svg">svg<span class="badge">1</span></a> <a class="collection-item" href="https://wzhongke.github.io//tags/%E6%97%85%E8%A1%8C">旅行<span class="badge">1</span></a></div></div></li></ul><ul class="nav-group external-link"><li><a class="collapsible-header waves-effect waves-indigo" href="https://github.com/wzhongke" target="_blank"><svg class="svg-icons svg-icons-github"><use xlink:href="#svg-icons-github"></use></svg> <span class="content">Github<small>@wzhongke</small></span> <i class="material-icons">chevron_right</i></a></li></ul></div></aside><main id="single" role="main" class="main-panel"><section class="container"><div class="inner"><div class="breadcrumbs" role="navigation" aria-label="breadcrumbs navigation"><a class="breadcrumb" href="https://wzhongke.github.io/"><i class="material-icons">location_on</i>Home</a> <a class="breadcrumb" href="https://wzhongke.github.io/post/">Post</a> <a class="breadcrumb" href="https://wzhongke.github.io/post/linux/">Linux</a> <span class="breadcrumb">linux 常用命令</span></div><section class="post-wrapper"><div class="toc-panel"><nav id="TableOfContents"><ul><li><ul><li><a href="#目录类">目录类</a></li><li><a href="#复制删除移动">复制删除移动</a></li><li><a href="#命令与文件查询">命令与文件查询</a></li><li><a href="#更改权限">更改权限</a></li><li><a href="#数据流重定向">数据流重定向</a></li><li><a href="#命令执行判断依据">命令执行判断依据： <code>;</code> <code>&amp;&amp;</code> <code>||</code></a></li><li><a href="#查看文件内容">查看文件内容</a></li><li><a href="#压缩">压缩</a></li><li><a href="#访问网络内容-wget-curl">访问网络内容 <code>wget</code> <code>curl</code></a></li><li><a href="#管道命令-cut-grep-sort-uniq">管道命令 <code>|</code> - <code>cut</code> <code>grep</code> <code>sort</code> <code>uniq</code></a></li><li><a href="#时间">时间</a></li><li><a href="#磁盘与目录容量">磁盘与目录容量</a></li><li><a href="#lsof-list-open-files"><code>lsof</code> (list open files)</a></li><li><a href="#远程同步命令">远程同步命令</a><ul><li><a href="#rsync-命令"><code>rsync</code>命令</a></li></ul></li><li><a href="#定时任务">定时任务</a></li><li><a href="#bash环境中的特殊符号">bash环境中的特殊符号</a></li><li><a href="#进程查看">进程查看</a><ul><li><a href="#ps-将某个时间点的进程运行情况选取下来"><code>ps</code> : 将某个时间点的进程运行情况选取下来</a></li><li><a href="#top-动态查看进程的变化">top 动态查看进程的变化</a></li><li><a href="#pstree-查看进程树">pstree 查看进程树</a></li><li><a href="#kill-进程管理">kill 进程管理</a></li></ul></li><li><a href="#文件格式化处理-grep-sed-awk">文件格式化处理 &ndash; <code>grep</code>, <code>sed</code>, <code>awk</code></a><ul><li><a href="#grep-命令"><code>grep</code> 命令</a></li><li><a href="#awk-命令"><code>awk</code> 命令</a></li></ul></li><li><a href="#其他快捷方式">其他快捷方式</a></li></ul></li></ul></nav></div><div class="post"><div class="card"><div class="card-content"><span class="card-title">linux 常用命令 </span><span class="card-meta"><time><span>Sat Jun 17 2017</span></time><address><a href="https://wzhongke.github.io//categories/linux">linux</a>&nbsp;</address></span><article class="article"><p>使用ubuntu的时候经常会把常用的一些命令忘掉或不知道有些参数的意思，又懒得看那枯燥的文档。因此记录下来备忘。<br><!-- more --></p><h2 id="目录类">目录类</h2><ol><li><p>ls: 查看文件与目录</p><pre><code class="language-bash">ls [-aAdfFhilnrRSt] 目录或文件
ls [--color={never,auto,always}] 目录或文件
ls [--full-time] 目录或文件
-a: 列出全部文件，包括隐藏文件
-A: 列出全部文件，包括隐藏文件，但不包括 . 与 .. 两个目录
-d: 仅列出目录，不列出目录内的文件
-f: 直接列出结果，不进行排序 (ls默认会以文件名排序)
-F: 根据文件、目录等信息给予附件数据结构 ( *:代表可执行文件，/: 代表目录，=: 代表socket文件，|: 代表FIFO文件)
-h: 将文件容量以易读的方式列出
-i: 列出inode号码
-l: 列出文件属性权限等
-n: 列出UID与GID，而非用户与用户组名
-r: 将排序结果反向输出
-R: 连同子目录内容一起列出来
-S: 以文件容量大小排序
-t: 以时间排序
-color: never(不要依据文件特性给予颜色显示)，always(显示颜色)，auto(系统判定是否显示颜色)
--full-time: 以完整的时间模式输出 年、月、日、时、分
--time={atime, ctime}: 输出访问时间或改变权限属性时间(ctime)，而非内容更改时间
</code></pre></li><li><p>cd: 切换目录</p><pre><code class="language-bash">cd [相对路径或者绝对路径]
#回到自己的主文件夹
cd [or cd ~]
#回到上层目录
cd ..
#回到刚才的目录
cd -
</code></pre></li><li><p>pwd : 显示当前目录</p><pre><code class="language-bash">pwd [-P]
-P:显示当前的路径，而非使用连接路径
</code></pre></li><li><p>mkdir : 新建目录</p><pre><code class="language-bash">mkdir [-mp] 目录名称
-m:配置文件夹的权限，忽略默认权限（umask)
-p:递归地创建目录
#新建权限为rwx--x--x的目录
mkdir -m 711 dir_name
</code></pre></li></ol><h2 id="复制删除移动">复制删除移动</h2><ol><li><p>复制 cp</p><pre><code class="language-bash">#只复制一个文件或文件夹
cp [-adfilprsu] 源文件 目标文件
-a: 相当于 -pdr，看后文
-d：若文件为连接文件，则只复制连接文件的属性
-f: 若目标文件已经存在且无法开启，则删除后再试一次
-i: 若目标文件已存在，覆盖时会先询问是否覆盖
-l: 创建文件的硬链接
-p: 连同文件的属性一起复制，备份常用
**-r: 递归复制，用于目录的复制**
-s: 创建文件的软连接
-u: 若目标文件比源文件旧才更新目标文件
#复制多个文件到某一文件夹下
$ cp [options] 源文件1 源文件2 ... 目标文件
</code></pre></li><li><p>移除文件或目录</p><pre><code class="language-bash">rm [-fir] 文件或目录
-f: 忽略不存在的文件
-i: 删除前再次确认
-r: 递归删除，主要用来删除目录
</code></pre></li><li><p>移动文件目录或者更名</p><pre><code class="language-bash">mv [-fiu] 文件或目录 目标文件或目录
-f: 目标文件存在时，不询问直接覆盖
-i: 目标文件存在，询问是否覆盖
-u: 目标文件存在，且较新时，才会更新
</code></pre></li><li><p>非纯文本 <code>od</code></p><pre><code class="language-bash">od [-t TYPE] 文件
-t: 后面可以接各种类型输出：
a : 利用默认字符输出
c : 使用ASCII字符输出
d[size]: 用十进制输出数据，每个整数占用 size bytes
f[siez]: 用浮点数输出数据，每个整数占用 size bytes
o[size]: 用八进制来输出数据，每个整数占用 size bytes
x[size]: 用十六进制来输出数据，每个整数占用 size bytes
</code></pre></li><li><p>连接文件 <code>ln</code> 硬连接是将文件对应到同一个inode号码上的连接。硬连接不能跨文件系统，不能连接到目录。符号连接就是windows下的快捷方式。</p><pre><code class="language-bash">ln [-sf] 源文件 目标文件(符合连接文件)
-s: 创建符号连接，而不是硬连接
-f: 如果目标文件存在，就将目标文件删除后再创建
</code></pre></li><li><p>清空文件 清空文件有三种方式：</p><pre><code class="language-bash">cat /dev/null &gt; clear.txt
echo &quot;&quot; &gt; clear.txt
&gt; clear.txt
</code></pre></li></ol><h2 id="命令与文件查询">命令与文件查询</h2><ol><li><p>which：可以查询脚本文件的位置，比如 <code>ifconfig</code> 命令的位置。但是不能够查询bash内置的命令，比如<code>cd</code></p><pre><code class="language-bash">which [-a] command
-a: 列出所有 PATH 目录中包含的命令，没有该参数，只会列出第一个
</code></pre></li><li><p>whereis： 定位命令的二进制，源文件和帮助文件</p><pre><code class="language-bash">whereis [-bmsu] 文件或目录名
-b : 只找二进制文件
-m : 在menu下查找
-s : 只找源文件
-u : 其他文件
</code></pre></li><li><p>locate： 根据文件名搜索文件，输出所有的文件。因为是从存储文件记录的数据库文件<code>/var/lib/mlocate</code>中读取的，所以速度快。但是数据库文件是定时更新的，所以新增的文件查询不到。可以通过<code>updatedb</code>来更新文件，因为该命令是查找硬盘的，所以执行比较慢。</p><pre><code class="language-bash">locate [-ir] 文件名
-i: 忽略大小写差异
-r: 可以接正则表达式
</code></pre></li><li><p>find: 在目录下搜索文件，与xargs一起使用，功能强大</p><pre><code class="language-bash">find [PATH] [option] [action]
# 与时间有关的参数有 -atime, -ctime, -mtime, 这三个参数使用方法类似。
-mtime n: 在n天之前的 一天内 被更改过的文件
-mtime +n: 在n天之前（不含n天）被更改过的文件
-mtime -n: 在n天之内（含n天） 被更改过的文件
-newer file: file问一个文件的路径，列出比file新的文件
-newermt time: 比time更新的文件

-type TYPE: 查找的文件类型，主要有： 一般文件(f), 设备文件(b,c), 目录(d), 连接文件(l), socket(s)等
-perm [+/-]mode: 查找文件权限，刚好等于mode， &quot;-&quot; 表示文件权限必须包含 mode， &quot;+&quot; 表示文件权限包含任一 mode

-name filename: 查找文件名为filename的文件， 使用通配符表示文件名时，需要加上 ''
-size [+-]SIZE: 查找比size还要大(+)或小(-)的文件 ,可以是用K\M\G

-exec command: command为命令，该命令可以处理查找结果，不支持别名。
find / -exec ls -l {}\;
find命令会将所有匹配到的文件一起传递给exec执行，但有些系统对能够传递给exec的命令有长度限制，会出现溢出错误。这时候可以使用xargs。
find . | xargs grep xxx: 查找当前目录下含有x的文件
</code></pre></li></ol><h2 id="更改权限">更改权限</h2><p>权限分数为： r(read)=4, w(write)=2, x(execute)=1 <code>bash chgrp [-R（递归更改)] groupname dirname/filename: 改变文件所属用户组 chown [-R（递归更改)] username[:groupname] dirname/filename：改变文件所有者 chmod [-R（递归更改)] [options] dirname/filename：改变文件所有者 chmod 761 file: 将文件权限更改为 =rwxrw---x chmod u=rwx,g=rw,o=x file: u(user) g(group) o(others) =(设置) +(增加) -(取消)</code></p><h2 id="数据流重定向">数据流重定向</h2><ul><li><code>1&gt;</code> : 以覆盖的方式将正确的数据输出到指定的文件或设备上</li><li><code>1&gt;&gt;</code> : 以累加的方式将正确的数据输出到指定的文件或设备上</li><li><code>2&gt;</code> : 以覆盖的方式将错误的数据输出到指定的文件或设备上</li><li><code>2&gt;&gt;</code> : 以累加的方式将错误的数据输出到指定的文件或设备上</li><li><code>command &gt; list 2&gt;&amp;1</code> ： 将正确信息和错误信息都输入到list文件中</li><li><code>command 2&gt; /dev/null</code> : 不保存错误信息</li></ul><h2 id="命令执行判断依据">命令执行判断依据： <code>;</code> <code>&amp;&amp;</code> <code>||</code></h2><ul><li><code>com1;com2</code> 不考虑命令的相关性，连续执行命令</li><li><code>com1&amp;&amp;com2</code> 前一个命令执行正确($?=0)，才执行第二个命令</li><li><code>com1||com2</code> 前一个命令执行不正确($?!=0)，才执行第二个命令</li></ul><h2 id="查看文件内容">查看文件内容</h2><ol><li><p>cat</p><pre><code class="language-bash">cat [-AbEnTv] 文件
-A: 相当于-vET 的整合，可列出一些特殊字符而不是空白
-b: 列出行号，仅针对非空白行做行号显示
-E: 将结尾的断行字符以 $ 显示出来
-n: 打印行号，连同空白行也会有行号
-T: 将[Tab]以 ^I显示出来
-v: 列出一些看不出来的特殊字符
</code></pre></li><li><p>翻页查看more</p><pre><code class="language-bash">more 文件路径
#空格键    向下翻一页
#Enter    向下滚动一行
#/字符串   在内容中向下查找字符串
#:f       显示文件名以及目前显示的行数
#q        离开more，不再显示内容
#b        向回翻页，只对文件有效
</code></pre></li><li><p>翻页查看 less</p><pre><code class="language-bash">less 文件路径
#空格键         向下翻一页
#[PageDown]    向下翻一页
#[PageUp]      向上翻一页
#/字符串   在内容中向下查找字符串
#?字符串   在内容中向上查找字符串
#n        重复前一个查询
#N        向上重复前一个查询
#q        离开
</code></pre></li><li><p>数据选取 head</p><pre><code class="language-bash">head [-n number] 文件
-n: 接数字，表示显示头几行，默认显示前10行
</code></pre></li><li><p>数据选取tail</p><pre><code class="language-bash">tail [-n number] 文件
-n: 表示显示几行
</code></pre></li></ol><p>另外可以修改 /etc/issue文件来改变终端的提示信息</p><h2 id="压缩">压缩</h2><ol><li><p>zip</p><pre><code class="language-bash">zip [-AcdDfFghjJKlLmoqrSTuvVwXyz$] [-b &lt;工作目录&gt;] [-ll] [-n &lt;字尾字符串&gt;] [-t &lt;日期时间&gt;] [-&lt;压缩效率&gt;] [压缩文件名] [待压缩文件...] [-i &lt;范本样式&gt;] [-x &lt;范本样式&gt;]
-A: 调整可执行的自动解压缩文件。
-b: &lt;工作目录&gt; 指定暂时存放文件的目录。
-c: 替每个被压缩的文件加上注释。
**-d: 从压缩文件内删除指定的文件**
-D: 压缩文件内不建立目录名称。
-F: 尝试修复已损坏的压缩文件。
-g: 将文件压缩后附加在既有的压缩文件之后，而非另行建立新的压缩文件.
**-i &lt;范本样式&gt;: 只压缩符合条件的文件。**
**-x &lt;范本样式&gt;: 压缩时排除符合条件的文件。**
-X: 不保存额外的文件属性。
-j: 只保存文件名称及其内容，而不存放任何目录名称。
-J: 删除压缩文件前面不必要的数据。
-l: 压缩文件时，把LF字符置换成LF+CR字符。
-ll: 压缩文件时，把LF+CR字符置换成LF字符。
**-m: 将文件压缩并加入压缩文件后，删除原始文件，即把文件移到压缩文件中**
**-n&lt;字尾字符串&gt;: 不压缩具有特定字尾字符串的文件。**
-q: 不显示指令执行过程
**-r: 递归处理，将指定目录下的所有文件和子目录一并处理。**
-t&lt;日期时间&gt;: 把压缩文件的日期设成指定的日期
-y: 直接保存符号连接，而非该连接所指向的文件，本参数仅在UNIX之类的系统下有效。
## 示例
zip -r search.zip search/  ## 将search目录打包的zip文件中
zip -r -x *.css search.zip search/ ## 打包search目录，单不包含css文件
</code></pre></li><li><p>使用zipsplit分割压缩的zip文件</p><pre><code class="language-bash">zipsplit (选项) (参数)
-n: 指定分割后每个zip文件的大小，是字节大小；
-t: 报告将要产生的较小的zip文件的大小；
-b: 指定分割后的zip文件的存放位置。
</code></pre></li><li><p>tar压缩 tar参数中 -x,-c,-t不能同时出现。</p><pre><code class="language-bash"># 打包
tar [-j|-z] [cv] [-f 新建的文件名] filename/dirname
# 查看文件名
tar [-j|-z] [tv] [-f 新建的文件名]
# 解压
tar [-j|-z] [xv] [-f 新建的文件名] [-C 目录]
-c: 新建打包文件
-t: 查看打包文件的内容有哪些文件名
-x: 解压功能，可以配合 C 解压到特定目录
-j: 通过bzip2来压缩/解压文件，此时文件名最好是 *.tar.bz2
-z: 通过gzip来压缩/解压文件，此时文件名最好是 *.tar.gz
-v: 在压缩/解压的过程中，将处理的文件名显示出来
-f filename: -f后接要处理的文件名
-C: 解压缩时，将文件解压到特定的目录

-p: 保留备份数据的原本权限与属性，常用于备份重要的配置文件
-P: 保留绝对路径
--exclude=FILE: 在压缩过程中，不打包FILE

## 示例
tar -zcv -f filename.tar.gz 要压缩的文件或目录名 #压缩
tar  -zxv -f filename.tar.gz -C 欲解压的目录  # 解压
tar -jcv -f system.tar.bz2 --exclude=/etc* --exclude=gz* /etc/root
</code></pre></li></ol><h2 id="访问网络内容-wget-curl">访问网络内容 <code>wget</code> <code>curl</code></h2><p><code>wget</code> 用于从网络上下载资源，若没有指定目录，默认为当前目录</p><pre><code class="language-bash">wget [参数] [url地址]
    -o, –output-file=FILE: 把**记录**写到FILE文件中
    -a, –append-output=FILE: 把**记录**追加到FILE文件中
    -d, –debug: 打印调试输出
    -q, –quiet: 安静模式(没有输出)
    -v, –verbose: 冗长模式(这是缺省设置)
    -nv, –non-verbose: 关掉冗长模式，但不是安静模式
    -i, –input-file=FILE: 下载在FILE文件中出现的URLs
    -F, –force-html: 把输入文件当作HTML格式文件对待
    -B, –base=URL: 将URL作为在-F -i参数指定的文件中出现的相对链接的前缀
    –sslcertfile=FILE: 可选客户端证书
    –sslcertkey=KEYFILE: 可选客户端证书的KEYFILE
    –egd-file=FILE: 指定EGD socket的文件名
    -t, –tries=NUMBER 设定最大尝试链接次数(0 表示无限制).

    -O –output-document=FILE 把文档写到FILE文件中
    -nc, –no-clobber 不要覆盖存在的文件或使用.#前缀
    -c, –continue 接着下载没下载完的文件
    –progress=TYPE 设定进程条标记
    -N, –timestamping 不要重新下载文件除非比本地文件新
    -S, –server-response 打印服务器的回应
    –spider 不下载任何东西
    -T, –timeout=SECONDS 设定响应超时的秒数
    -w, –wait=SECONDS 两次尝试之间间隔SECONDS秒
    –waitretry=SECONDS 在重新链接之间等待1…SECONDS秒
    –random-wait 在下载之间等待0…2*WAIT秒
    -Y, –proxy=on/off 打开或关闭代理
    -Q, –quota=NUMBER 设置下载的容量限制
    –limit-rate=RATE 限定下载输率

    --post-data=&quot;&quot; : 通过post方式提交数据
</code></pre><h2 id="管道命令-cut-grep-sort-uniq">管道命令 <code>|</code> - <code>cut</code> <code>grep</code> <code>sort</code> <code>uniq</code></h2><p>每个<code>|</code>后面接的第一个数据必须是能够接受standard input数据的命令，而且管道命令只能处理standard output，对于error output会忽略 1. <code>cut</code> <code>bash cut –d '分隔符' –f fields -d : 后边接分隔符， 与-f一起使用 -f : 依据-d的分隔符将一段信息切割成为数段，有-f取出第几段的意思 last | cut –d ' ' –f 1,2</code></p><ol><li><p><code>grep</code> 可用正则</p><pre><code class="language-bash">grep [-cinvP] [--color=auto] '查找字符串(正则)' filename
    -c : 计算找到字符串的次数
    -i : 忽略大小写
    -n : 给出行号
    -v : 反向选择
    -P : 用Perl正则表达式来匹配
grep -–color=auto 'manpath' /etc/man.config
</code></pre></li><li><p><code>sort</code> 排序命令</p><pre><code class="language-bash">sort [-fbMnrtuk] [file or stdin]
    -f: 忽略大小写
    -b: 忽略最前面的空格
    -M: 以月份的名字排序
    -n: 使用“纯数字”进行排序（默认是文字类型）
    -r: 反向排序
    -u: 同umiq
    -t: 分隔符，默认是[tab]分割
    -k: 以哪个区间来进行排序
</code></pre></li><li><p><code>uniq</code> 计数</p><pre><code class="language-bash">uniq [-ic]
    -i: 忽略大小写字符的不同 
    -c: 进行计数
</code></pre></li></ol><h2 id="时间">时间</h2><p><code>date</code>命令能够通过<code>date +Format</code>设置输出格式</p><pre><code class="language-bash">date +Format
    - %Y : 年份
    - %y : 年份的最后两位
    - %d : 按月计的日期(例如：01)
    - %D : 按月计的日期；等于%m/%d/%y
    - %H : 小时(00-23)
    - %I : 小时(00-12)
    - %m : 月份
    - %M : 分钟
    - %S : 秒(00-60)
date +%Y%m%d%H%M%S   =&gt; 20170617194225
# 输出时间 是一小时前的时间
date -d'-1 hour' +%F' ' %T  
</code></pre><p>通过 <code>date -s</code> 设置时间</p><pre><code class="language-bash">date -s 06/17/2017
date -s 19:42:25
</code></pre><h2 id="磁盘与目录容量">磁盘与目录容量</h2><ol><li><p><code>df</code> : 列出文件系统的整体磁盘使用量</p><pre><code class="language-shell">df [-ahikHTm] [目录或文件名]
    -a : 列出所有文件系统，包括系统特有的/proc等文件系统
    -h : 以人们较易阅读的GB、MB、KB等格式显示
    -i : 不用硬盘容量，而以inode的数量来显示
    -k/m : 以MB/KB的容量显示文件系统
</code></pre></li><li><p><code>du</code> : 评估文件系统的磁盘使用量</p><pre><code class="language-shell">du [-ahskm] 文件或目录名称
    -a : 列出所有的文件与目录的容量，因为默认仅统计目录下面的文件量，不能同 s 一起使用
    -h : 以较易阅读的格式显示
    -s : 列出总量，不列出每个个别的目录占用量
    -S : 尚不理解
    -k/m : 以MB/KB的容量显示文件系统

du -sh ./*  ## 可以查看当前目录下文件大小，对于磁盘满了，寻找大文件很有用
</code></pre></li></ol><h2 id="lsof-list-open-files"><code>lsof</code> (list open files)</h2><p>在linux下，任何事物都以文件的形式存在，通过文件不仅可以访问常规数据，还可以访问网络连接和硬件。如TCP和UDP套接字等。系统在后台都为该应用程序分配了一个文件描述符，该文件描述符提供了大量关于这个应用程序本身的信息。</p><pre><code class="language-bash">lsof
    -a : 列出打开文件存在的进程
    -c&lt;进程名&gt;: 列出指定进程所打开的文件
    -g : 列出GID号进程详情
    -d&lt;文件号&gt; : 列出占用该文件号的进程
    +d&lt;目录&gt; : 列出目录下被打开的文件
    +D&lt;目录&gt; : 递归列出目录下被打开的文件
    -n&lt;目录&gt; : 列出使用NFS的文件
    -i&lt;条件&gt; : 列出符合条件的进程。（4、6、协议、:端口、 @ip ）
    -p&lt;进程号&gt; : 列出指定进程号所打开的文件
    -u : 列出UID号进程详情
    -h : 显示帮助信息
    -v : 显示版本信息
</code></pre><h2 id="远程同步命令">远程同步命令</h2><h3 id="rsync-命令"><code>rsync</code>命令</h3><p><code>rsync</code>命令是用来远程同步数据的，可以通过LAN/WAN快速同步多台机器间的文件。<code>rsync</code>通过自己的算法来比较本地和远程文件的不同部分，而不是每次都整份传送，所以速度比<code>scp</code>快。 <code>:</code>表明是通过远程shell连接，而<code>::</code> 和 <code>rsync://</code> 用于连接到rsync守护进程，它需要 src 或 dest 以模块名称开头</p><pre><code class="language-bash"># 拷贝本地文件
rsync [options] src dest
# 使用一个远程shell程序将本地机器的内容拷贝到远程机器
rsync [options] src [user@]host:dest
# 使用一个远程shell将远程机器拷贝到本地机器
rsync [options] [user@]host:src dest
# 从远程rsync服务器中拷贝文件到本地机器
rsync [options] [user@]host::src dest
# 从本地机器拷贝文件到远程rsync服务器中
rsync [options] src [user@]host::dest
# 列远程机器的文件列表，类似rsync传输，不过需要在命令中省略本地机器
rsync [options] rsync://[user@]host[:port]/src [dest]

## 参数
-v, --verbose: 详细模式输出
-q, --quiet: 精简模式输出
-c, --checksum: 打开校验开关
-a, --archive: 归档模式，表示以递归方式传输文件，并保持所有文件属性，相当于 `-rlptgoD`
-r, --recursive: 对子目录以递归模式处理
-R, --relative: 使用相对路径信息
-b, --backup: 创建备份
    --backup-dir=DIR 将备份文件放到 DIR 中
    --suffix=SUFFIX: 定义备份文件前缀
-u, --update: 跳过接收机器上较新的文件
-d, --dirs: 不会递归地传输目录
-l, --link: 保留软连接
-k, --copy-dirlinks: 将符号链接转换为指定目录
-K, --keep-dirlinks: 将符号链接作为一个递归的目录
-H, --hard-links: 保留硬链接
-p, --perms: 保持文件权限
-o, --owner: 保持文件属主信息
-g, --group: 保持文件属组信息。 
-D, --devices: 保持设备文件信息
** -t, --times: 保持文件时间信息  **
-S, --sparse: 对稀疏文件进行特殊处理以节省DST的空间
-w, --whole-file: 拷贝文件，不进行增量检测 
-x, --one-file-system: 不要跨越文件系统边界
-B, --block-size=SIZE: 检验算法使用的块尺寸，默认是700字节
-e, --rsh=command: 指定使用rsh、ssh方式进行数据同步
    --rsync-path=PATH: 指定远程服务器上的rsync命令所在路径信息
    --existing: 仅仅更新那些已经存在于DST的文件，而不备份那些新创建的文件
    --delete: 删除那些DST中SRC没有的文件
    --delete-excluded: 同样删除接收端那些被该选项指定排除的文件
    --delete-after: 传输结束以后再删除
    --ignore-errors: 即使出现IO错误也进行删除
    --max-delete=NUM: 最多删除NUM个文件
-C, --cvs-exclude: 使用和CVS一样的方法自动忽略文件，用来排除那些不希望传输的文件
-P, --partial: 保留那些因故没有完全传输的文件，以是加快随后的再次传输
--force: 强制删除目录，即使不为空
--numeric-ids: 不将数字的用户和组id匹配为用户名和组名
--timeout=time: ip超时时间，单位为秒
-I, --ignore-times: 不跳过那些有同样的时间和长度的文件
--size-only: 当决定是否要备份文件时，仅仅察看文件大小而不考虑文件时间
--modify-window=NUM: 决定文件是否时间相同时使用的时间戳窗口，默认为0
-T --temp-dir=DIR: 在DIR中创建临时文件
--compare-dest=DIR: 同样比较DIR中的文件来决定是否需要备份。
--progress: 显示备份过程
-z, --compress: 对备份的文件在传输时进行压缩处理
    --exclude=PATTERN: 指定排除不需要传输的文件模式
    --include=PATTERN: 指定不排除而需要传输的文件模式
    --exclude-from=FILE: 排除FILE中指定模式的文件
    --include-from=FILE: 不排除FILE指定模式匹配的文件
    --version: 打印版本信息
    --address: 绑定到特定的地址
    --config=FILE: 指定其他的配置文件，不使用默认的rsyncd.conf文件
    --port=PORT: 指定其他的rsync服务端口
    --blocking-io: 对远程shell使用阻塞IO
    -stats: 给出某些文件的传输状态
    --progress: 在传输时现实传输过程
    --password-file=FILE: 从FILE中得到密码
-i, --itemize-changes: 输出所有更新的更改摘要
     --out-format=FORMAT     使用指定的FORMAT输出
     --log-file=FILE         将rsync做的操作记录到FILE中
     --list-only             只列出文件，而不拷贝
     --bwlimit=KBPS          限制I/O带宽，KBytes per second
-h, --help: 显示帮助信息。
</code></pre><p>示例：</p><pre><code class="language-bash">rsync -azi machine::user/path/dir/ /search/odin/ --exclude '*_log*'
</code></pre><h2 id="定时任务">定时任务</h2><p>在linux上，使用 <code>crontab</code> 来创建循环性工作调度。当然为了安全，可以通过<code>/etc/cron.allow</code>和<code>/etc/cron.deny</code>来限制用户使用 <code>crontab</code>。 当用户是用<code>crontab</code>来新建工作调度时，该项工作就会被记录到 <code>/var/spool/cron</code> 中，而且是以用户的账户来作为判别的。一般来说，不建议直接编辑<code>/var/spool/cron</code>中的文件，因为可能会由于输入语法错误，而导致 cron 不能正确执行。</p><pre><code class="language-bash">crontab [-u username] [-l|-e|-r]
-u: 只有root才能使用这个参数，可以用其他用户的名义新建/删除 crontab 任务 
-l: 查看 crontab 的内容
-e: 编辑 crontab 的内容
-r: 删除所有的 crontab 的工作内容

## 示例
## 使用 crontab -e 进入到任务编辑页面
crontab -e  
 0  1  *  *  * shell exec.sh
#分 时 日 月 周   执行内容
</code></pre><p>只要通过 <code>:wq</code> 或者 <code>:x</code>，保存退出后，任务就自动定时执行。 配置时间方式如下表所示</p><table><thead><tr><th align="left">分</th><th align="left">时</th><th align="left">日期</th><th align="left">月</th><th align="left">周</th><th align="left">命令</th></tr></thead><tbody><tr><td align="left">0-59</td><td align="left">0-23</td><td align="left">1-31</td><td align="left">1-12</td><td align="left">0-7</td><td align="left">command</td></tr></tbody></table><p>“周”的0和7都是代表星期日的意思。还有一些辅助字符，如下：</p><table><thead><tr><th align="left">特殊字符</th><th align="left">代表意义</th></tr></thead><tbody><tr><td align="left">* (星号)</td><td align="left">代表任何时刻都接受，上例中，表示无论日月周是什么，知道是1点钟，就执行命令</td></tr><tr><td align="left">, (逗号)</td><td align="left">代表分隔时段的意思。如要执行任务的时间是 3:00 和 6:00, 那么配置是： <code>0 3,6 * * * command</code></td></tr><tr><td align="left">- (减号)</td><td align="left">代表一段时间范围内。8点到12点的每小时的20分钟执行任务，那么配置是： <code>20 8-12 * * * command</code></td></tr><tr><td align="left">/n</td><td align="left">n是数字，即每隔 n 单位的时间间隔执行命令。例如每五分钟执行一次： <code>*/5 * * * * command</code></td></tr></tbody></table><p><code>contab -e</code> 是针对用户的 cron 来设计的，如果是系统例行性任务，可以直接编辑 <code>/etc/crontab</code> 这个文件。 <code>/etc/crontab</code> 是一个纯文本文件，可以用root账号编辑。 cron 服务最低的检测限制是“分钟”，所以cron 会每分钟去读取一次 <code>/etc/crontab</code> 与 <code>/var/spool/cron</code> 中的数据，所以，只要编辑并保存这些文件，就会生效。如果不生效，可以使用 <code>/etc/init.d/crondrestart</code> 来重启 cron 服务。</p><h2 id="bash环境中的特殊符号">bash环境中的特殊符号</h2><p>bash环境中，有些符号是有特殊意义的：</p><table><thead><tr><th align="left">符号</th><th align="left">意义</th></tr></thead><tbody><tr><td align="left">#</td><td align="left">注释符号，最常用于script中</td></tr><tr><td align="left">\</td><td align="left">转义符号，之后跟的特殊符号作为一般符号处理</td></tr><tr><td align="left">|</td><td align="left">管道，分割两个管道命令</td></tr><tr><td align="left">;</td><td align="left">连续命令执行分隔符</td></tr><tr><td align="left">~</td><td align="left">用户的主文件夹</td></tr><tr><td align="left">$</td><td align="left">使用变量前导符号</td></tr><tr><td align="left">&amp;</td><td align="left">将命令在后台运行</td></tr><tr><td align="left">/</td><td align="left">目录符号</td></tr><tr><td align="left">\ &gt;, &gt;&gt;</td><td align="left">数据流重定向，输出导向</td></tr><tr><td align="left">&lt;, &lt;&lt;</td><td align="left">数据流重定向， 输入导向</td></tr><tr><td align="left">&ldquo;</td><td align="left">单引号，不具有变量置换的功能</td></tr><tr><td align="left">&rdquo;&rdquo;</td><td align="left">双引号，具有变量置换的功能，其中的变量会用其值替换</td></tr><tr><td align="left">``</td><td align="left">两个 ` 中间为可以先执行的命令，也可以使用 $()</td></tr><tr><td align="left">()</td><td align="left">中间为子shell的起始与结束</td></tr><tr><td align="left">{ }</td><td align="left">中间为命令块的组合</td></tr></tbody></table><h2 id="进程查看">进程查看</h2><p>我们使用 <code>ps</code> <code>top</code> 和 <code>pstree</code> 来查看进程的运行情况。</p><h3 id="ps-将某个时间点的进程运行情况选取下来"><code>ps</code> : 将某个时间点的进程运行情况选取下来</h3><p>一般 <code>ps</code> 有两种用法： <code>ps -l</code> 仅查看自己的bash相关的进程； <code>ps aux</code> 查看所有系统运行的程序。语法如下：</p><pre><code class="language-bash">ps [options]
 -A: 所有的进程均显示出来
 -a: 与 terminal 无关的所有进程
 -u: 有效用户相关的进程
 x: 通常与 a 一起使用，可得到较为完整的信息

 l: 较详细地将PID的信息列出
 j: 工作的格式
 -f: 做一个更完整的输出

# 示例
ps aux
 USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
root         1  0.0  0.0  10352   680 ?        Ss    2015  18:00 init [3]                             
root         2  0.0  0.0      0     0 ?        S&lt;    2015   1:40 [migration/0]
root         3  0.0  0.0      0     0 ?        SN    2015   0:50 [ksoftirqd/0]
root         4  0.0  0.0      0     0 ?        S&lt;    2015   0:00 [watchdog/0]
</code></pre><p><code>ps aux</code> 结果中，各字段的意义为：</p><table><thead><tr><th align="left">字段名</th><th align="left">字段含义</th></tr></thead><tbody><tr><td align="left">USER</td><td align="left">该进程属于哪个用户账号</td></tr><tr><td align="left">PID</td><td align="left">该进程的标志符</td></tr><tr><td align="left">%CPU</td><td align="left">该进程使用的CPU资源的百分比</td></tr><tr><td align="left">%MEM</td><td align="left">该进程所占用的物理内存百分比</td></tr><tr><td align="left">VSZ</td><td align="left">该进程使用的虚拟内存量</td></tr><tr><td align="left">RSS</td><td align="left">该进程占用的固定内容量</td></tr><tr><td align="left">TTY</td><td align="left">该进程是在哪个终端机上运行，若与终端无关则显示 ?；若为 pts/0 表示由网络连接的主机进程</td></tr><tr><td align="left">STAT</td><td align="left">该进程目前的状态。R(正在运行), S(可唤醒的睡眠状态), D(不可唤醒的睡眠状态，通常为等待I/O), T(停止状态), Z(僵尸状态，进程已经终止但无法删除)</td></tr><tr><td align="left">START</td><td align="left">该进程启动的时间</td></tr><tr><td align="left">TIME</td><td align="left">该进程使用CPU运行时间</td></tr><tr><td align="left">COMMAND</td><td align="left">该进程是哪个命令产生的</td></tr></tbody></table><h3 id="top-动态查看进程的变化">top 动态查看进程的变化</h3><p><code>top</code> 命令可以持续检测程序的运行状态，使用方式如下：</p><pre><code class="language-bash">top [-d 数字] | top [-bnp]
参数如下：
-d: 后面可以接秒数，就是整个进程界面更新的秒数，默认是 5s
-b: 以批次的方式执行top，通常会结合数据流重定向来批处理结果
-n: 与 -b 搭配，表示需要进行几次 top 结果的数据
-p: 指定某些PID来进行查看
-H: 显示线程
在top命令中，可以使用如下按键命令：
   ?: 显示在top当中可以输入的按键指令
   P: 以 CPU 的使用资源排序显示
   M: 以内存的使用资源排序显示
   N: 以PID来排序
   T: 该进程使用的CPU时间累积排序
   k: 给予某个PID一个信号
   r: 给某个PID重新定制一个nice属性
   q: 离开top
</code></pre><h3 id="pstree-查看进程树">pstree 查看进程树</h3><pre><code class="language-bash">pstree [-A|U] [-up]
参数：
-A: 各进程树之间的连接
-U: 各进程树之间的连接以utf8码的字符来连接
-p: 列出每个进程的PID
-u: 列出每个进程的账号
示例：

init(1)-+-agetty(2112)
        |-crond(2071)---crond(13076)---sh(13084)---sleep(13112)
        |-events/0(8)
        |-events/1(9)
        |-glusterfs(19972)-+-{glusterfs}(19973)
        |                  \`-{glusterfs}(19982)
        |-httpd(1988)-+-httpd(884,apache)
</code></pre><h3 id="kill-进程管理">kill 进程管理</h3><p>我们可以使用 kill 或者 killall 来向进程发送信号。使用如下：</p><pre><code class="language-bash">kill -signal PID
killall [-iIe] -signal 命令名称
参数: 
-i: interactive ，交互式的，若需要删除，会出现提示
-e: exact，表示后边接的 命令名称 要一致，但完整的命令不能超过15个字符
-I: 命令名称（可能含有参数），忽略大小写
</code></pre><p>其中常用的 signal 有：</p><table><thead><tr><th align="left">代号</th><th align="left">名称</th><th align="left">含义</th></tr></thead><tbody><tr><td align="left">1</td><td align="left">SIGHUP</td><td align="left">启动被终止的进程，可以让该PID重新读取自己的配置，类似重启</td></tr><tr><td align="left">2</td><td align="left">SIGINT</td><td align="left">相当于使用键盘的 ctrl+c 来中断一个进程</td></tr><tr><td align="left">9</td><td align="left">SIGKILL</td><td align="left">代表强行中断一个进程的运行，如果进程执行到一半，尚未完成的部分不会被处理</td></tr><tr><td align="left">15</td><td align="left">SIGTERM</td><td align="left">正常结束进程的执行。后续操作完成后，才终止</td></tr><tr><td align="left">17</td><td align="left">SIGSTOP</td><td align="left">相当于使用键盘的 ctrl+z 来暂停一个进程的执行</td></tr></tbody></table><pre><code class="language-bash"># 关闭特定的进程
kill -SIGHUP $(ps aux | grep 'syslog' | grep -v 'grep' | awk '{print $2}')

# 关闭一个命令开启的所有进程
killall -i -9 bash
</code></pre><h2 id="文件格式化处理-grep-sed-awk">文件格式化处理 &ndash; <code>grep</code>, <code>sed</code>, <code>awk</code></h2><pre><code class="language-bash">ob.resin.201803281530
cat adcost | awk '{sum+=$1} END {print &quot;Avg= &quot;, sum/NR}'

awk 'BEGIN {max = 0} {if ($1+0 &gt; max+0) max=$1} END {print &quot;Max=&quot;, max}' adcost
sed -rn 's/.*SecurityPostFilter#([0-9]+).*$/\0@@@\1/p'  | awk 'BEGIN {FS=&quot;@@@&quot;}  {sum+=$2} END {print &quot;AVG= &quot;, sum/NR}' 
| awk '{sum+=$1} END {print &quot;Avg= &quot;, sum/NR}'

grep -P 'cost:[0-9]+' --color
</code></pre><h3 id="grep-命令"><code>grep</code> 命令</h3><h3 id="awk-命令"><code>awk</code> 命令</h3><p><code>awk</code> 内建了如下变量：</p><table><thead><tr><th align="left">变量符号</th><th align="left">变量说明</th></tr></thead><tbody><tr><td align="left"><code>$0</code></td><td align="left">当前行的内容</td></tr><tr><td align="left"><code>$1~$n</code></td><td align="left">当前行的第n个字段，字段间由 <code>FS</code> 分隔</td></tr><tr><td align="left"><code>FS</code></td><td align="left">字段分隔符，默认是空格或者Tab</td></tr><tr><td align="left"><code>NF</code></td><td align="left">当前记录中字段个数，即列数</td></tr><tr><td align="left"><code>NR</code></td><td align="left">行号，从1开始，有多个文件，该值也会累加</td></tr><tr><td align="left"><code>FNR</code></td><td align="left">当前记录数，文件自己的行号</td></tr><tr><td align="left"><code>RS</code></td><td align="left">行的分隔符，默认是换行</td></tr><tr><td align="left"><code>OFS</code></td><td align="left">输出字段分隔符，默认是空格</td></tr><tr><td align="left"><code>ORS</code></td><td align="left">输出行的分隔符，默认是换行符</td></tr><tr><td align="left"><code>FILENAME</code></td><td align="left">当前文件名</td></tr></tbody></table><h2 id="其他快捷方式">其他快捷方式</h2><ol><li>使用快捷键 <code>ctrl+r</code> 可以快速使用历史命令</li></ol></article></div><div class="card-action"><i class="material-icons">local_offer</i> <a class="tag" href="https://wzhongke.github.io//tags/linux">#linux</a>&nbsp;</div><div class="card-action"><div class="comments"><div id="disqus_thread"></div></div><script type="text/javascript">var disqus_shortname = 'wzhongke';

     
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript></div></div><div class="pagination-single"><span class="pagination-item previous"><i class="material-icons">navigate_before</i> <a href="https://wzhongke.github.io/post/markdown%E8%AF%AD%E6%B3%95/" rel="prev">markdown 语法</a> </span><span class="pagination-item next"><i class="material-icons">navigate_next</i> <a href="https://wzhongke.github.io/post/front/javascript-%E5%B8%B8%E7%94%A8%E6%8A%80%E5%B7%A7/" rel="next">javascript 常用技巧</a></span></div></div></section></div></section><footer class="page-footer"><div class="container"><div class="row"><div class="col l6 s12"><h5 class="white-text">World of Wang</h5><p class="grey-text text-lighten-4">Theme <a href="https://github.com/stkevintan/hugo-YAMT-theme" target="_blank">YAMT</a> designed by <a href="https://github.com/stkevintan" target="_blank">Kevin Tan</a> with ❤</p></div><div class="col l4 offset-l2 s12"><h5 class="white-text">My Friends</h5><ul><li><a class="grey-text text-lighten-3" href="https://frantic1048.logdown.com/" target="_blank">Frantic1048</a></li></ul></div></div></div><div class="footer-copyright"><div class="container">Copyright@Kevin Tan</div></div></footer></main><script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script type="text/javascript" src="//dlweb.sogoucdn.com/common/lib/jquery/jquery-1.11.0.min.js"></script><script type="text/javascript" src="//cdn.bootcss.com/lunr.js/2.1.2/lunr.min.js"></script><script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [['$','$'], ['\\(','\\)']]
      }
    });</script><script type="text/javascript" src="https://wzhongke.github.io//js/materialize.min.js"></script><script type="text/javascript" src="https://wzhongke.github.io//js/index-676cb0804b.js"></script><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-9350854994277981",
        enable_page_level_ads: true
    });</script></body></html>